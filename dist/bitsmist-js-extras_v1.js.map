{"version":3,"file":"bitsmist-js-extras_v1.js","sources":["../src/extras/store/multi-store.js","../src/extras/store/array-store.js","../src/extras/store/observable-store.js","../src/extras/util/formatter-util.js","../src/extras/util/value-util.js","../src/extras/store/bindable-store.js","../src/extras/store/bindable-array-store.js","../src/extras/perk/file-perk.js","../src/extras/perk/error-perk.js","../src/extras/util/form-util.js","../src/extras/perk/element-perk.js","../src/extras/perk/resource-perk.js","../src/extras/perk/validation-perk.js","../src/extras/perk/form-perk.js","../src/extras/perk/list-perk.js","../src/extras/perk/databinding-perk.js","../src/extras/unit/bm-locale.js","../src/extras/perk/locale-perk.js","../src/extras/perk/key-perk.js","../src/extras/perk/chain-perk.js","../src/extras/perk/dialog-perk.js","../src/extras/perk/preference-perk.js","../node_modules/path-to-regexp/dist.es2015/index.js","../src/extras/perk/route-perk.js","../src/extras/resource-handler/resource-handler.js","../src/extras/resource-handler/cookie-resource-handler.js","../src/extras/resource-handler/api-resource-handler.js","../src/extras/resource-handler/object-resource-handler.js","../src/extras/resource-handler/linked-resource-handler.js","../src/extras/resource-handler/webstorage-resource-handler.js","../src/extras/util/locale-formatter-util.js","../src/extras/util/locale-value-util.js","../src/extras/locale-handler/locale-handler.js","../src/extras/locale-handler/localeserver-handler.js","../src/extras/validation-handler/validation-handler.js","../src/extras/validation-handler/html5form-validation-handler.js","../src/extras/validation-handler/object-validation-handler.js","../src/extras/unit/bm-preference.js","../src/extras/unit/bm-error.js","../src/extras/unit/bm-router.js","../src/extras/index.js"],"sourcesContent":["// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Store, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tMulti Chainable store class\n// =============================================================================\n\nexport default class MultiStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(options)\n\t{\n\n\t\tsuper(options);\n\n\t\t// Init vars\n\t\tthis._stores = [];\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Add the store.\n     *\n\t * @param\t{Store}\t\t\tstore\t\t\t\tStore to add.\n     */\n\tadd(store)\n\t{\n\n\t\tthis._stores.push(store);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tclear()\n\t{\n\n\t\tthis._stores = [];\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tclone()\n\t{\n\n\t\tlet items = {};\n\n\t\tfor (let i = 0; i < this._stores.length; i++)\n\t\t{\n\t\t\tUtil.deepMerge(items, this._stores[i].items);\n\t\t}\n\n\t\treturn items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tget(key, defaultValue)\n\t{\n\n\t\tlet isFound = false;\n\t\tlet value;\n\n\t\tfor (let i = 0; i < this._stores.length; i++)\n\t\t{\n\t\t\tif (this._stores[i].has(key))\n\t\t\t{\n\t\t\t\tvalue = this._stores[i].get(key);\n\t\t\t\tisFound = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn ( isFound ? value : defaultValue );\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tmerge(newItems, merger)\n\t{\n\n\t\tthrow TypeError(\"MultiStore is read only.\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tset(key, value, options)\n\t{\n\n\t\tthrow TypeError(\"MultiStore is read only.\");\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tremove(key)\n\t{\n\n\t\tthrow TypeError(\"MultiStore is read only.\");\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\thas(key)\n\t{\n\n\t\tlet isFound = false;\n\n\t\tfor (let i = 0; i < this._stores.length; i++)\n\t\t{\n\t\t\tif (this._stores[i].has(key))\n\t\t\t{\n\t\t\t\tisFound = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn isFound;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Store, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tArray Store class\n// =============================================================================\n\nexport default class ArrayStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n     */\n\tconstructor(options)\n\t{\n\n\t\tlet defaults = {};\n\t\tsuper(Object.assign(defaults, options));\n\n\t\tthis.items = Util.safeGet(this._options, \"items\", []);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Items.\n\t *\n\t * @type\t{String}\n\t */\n\tget items()\n\t{\n\n\t\treturn this.clone();\n\n\t}\n\n\tset items(value)\n\t{\n\n\t\tUtil.assert(Array.isArray(value), () => `ArrayStore.items(setter): Items is not an array. items=${value}`, TypeError);\n\n\t\tthis._items = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clear.\n     */\n\tclear()\n\t{\n\n\t\tthis._items = [];\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Clone contents as an object.\n     *\n\t * @return  {Object}\t\tCloned items.\n     */\n\tclone()\n\t{\n\n\t\treturn Util.deepMerge([], this._items);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from store. Return default value when specified key is not available.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tget(index, key, defaultValue)\n\t{\n\n\t\treturn Util.safeGet(this._items[index], key, defaultValue);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the store. If key is empty, it sets the value to the root.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(index, key, value, options)\n\t{\n\n\t\tif (options && options[\"merge\"])\n\t\t{\n\t\t\treturn Util.safeMerge(this._items[index], key, defaultValue);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tUtil.safeSet(this._items[index], key, value);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Remove from the list.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t */\n\tremove(index, key)\n\t{\n\n\t\tUtil.safeRemove(this._items[i], key);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Check if the store has specified key.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to check.\n\t *\n\t * @return\t{Boolean}\t\tTrue:exists, False:not exists.\n\t */\n\thas(index, key)\n\t{\n\n\t\treturn Util.safeHas(this._items[index], key);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Store, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tObservable store class\n// =============================================================================\n\nexport default class ObservableStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(options)\n\t{\n\n\t\tlet defaults = {\"notifyOnChange\":true, \"async\":true};\n\t\tsuper(Object.assign(defaults, options));\n\n\t\tthis._filter;\n\t\tthis._observers = [];\n\n\t\tthis.filter = Util.safeGet(this._options, \"filter\", () => { return true; } );\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Filter function.\n\t *\n\t * @type\t{Function}\n\t */\n\tget filter()\n\t{\n\n\t\treturn this._filter;\n\n\t}\n\n\tset filter(value)\n\t{\n\n\t\tUtil.assert(typeof value === \"function\", () => `Store.filter(setter): Filter is not a function. filter=${value}`, TypeError);\n\n\t\tthis._filter = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the store and notify to subscribers if the value has been changed.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to store.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to store.\n\t */\n\tset(key, value, options, ...args)\n\t{\n\n\t\tlet changedItem = {};\n\t\tlet holder = ( key ? this.get(key) : this._items );\n\n\t\tif (holder && typeof holder === \"object\")\n\t\t{\n\t\t\tthis.#__deepMerge(holder, value, changedItem);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.get(key) !== value)\n\t\t\t{\n\t\t\t\tUtil.safeSet(this._items, key, value);\n\t\t\t\tchangedItem[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tlet notify = Util.safeGet(options, \"notifyOnChange\", Util.safeGet(this._options, \"notifyOnChange\"));\n\t\tif (notify && Object.keys(changedItem).length > 0)\n\t\t{\n\t\t\treturn this.notify(changedItem, ...args);\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tclear(options, ...args)\n\t{\n\n\t\tsuper.clear();\n\n\t\treturn this.notify(\"*\", ...args);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n    /**\n     * Replace all values in the store.\n     *\n     * @param   {String}        key                 Key to store.\n     * @param   {Object}        value               Value to store.\n     */\n    replace(value, options, ...args)\n    {\n\n        this._items = {};\n        this.#__deepMerge(this._items, value);\n\n        let notify = Util.safeGet(options, \"notifyOnChange\", Util.safeGet(this._options, \"notifyOnChange\"));\n        if (notify)\n        {\n            return this.notify(value, ...args);\n        }\n\n    }\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Subscribe to the store.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tSubscriber's id.\n\t * @param\t{Function}\t\thandler\t\t\t\tHandler function on notification.\n\t * @param\t{Object}\t\toptons\t\t\t\tOptions passed to the handler on notification.\n\t */\n\tsubscribe(id, handler, options)\n\t{\n\n\t\tUtil.assert(typeof handler === \"function\", () => `ObservableStore.subscribe(): Notification handler is not a function. id=${id}`, TypeError);\n\n\t\tthis._observers.push({\"id\":id, \"handler\":handler, \"options\":options});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Unsubscribe from the store.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tSubscriber's id.\n\t */\n\tunsubscribe(id)\n\t{\n\n\t\tfor (let i = 0; i < this._observers.length; i++)\n\t\t{\n\t\t\tif (this._obvservers[i].id === id)\n\t\t\t{\n\t\t\t\tthis._observers.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify dispacher. Call notifySync() or notifyAsync() according to the option.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tnotify(conditions, ...args)\n\t{\n\n\t\tif (Util.safeGet(this._options, \"async\", false))\n\t\t{\n\t\t\treturn this.notifyAsync(conditions, ...args);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn this.notifySync(conditions, ...args);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify observers.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tnotifySync(conditions, ...args)\n\t{\n\n\t\tlet chain = Promise.resolve();\n\n\t\tfor (let i = 0; i < this._observers.length; i++)\n\t\t{\n\t\t\tchain = chain.then(() => {\n\t\t\t\tif (this._filter(conditions, this._observers[i], ...args))\n\t\t\t\t{\n\t\t\t\t\tconsole.debug(`ObservableStore.notifySync(): Notifying. conditions=${conditions}, observer=${this._observers[i].id}`);\n\t\t\t\t\treturn this._observers[i][\"handler\"](conditions, this._observers[i], ...args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn chain;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify observers asynchronously.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tnotifyAsync(conditions, ...args)\n\t{\n\n\t\tfor (let i = 0; i < this._observers.length; i++)\n\t\t{\n\t\t\tif (this._filter(conditions, this._observers[i], ...args))\n\t\t\t{\n\t\t\t\tconsole.debug(`ObservableStore.notifyAsync(): Notifying asynchronously. conditions=${conditions}, observer=${this._observers[i].id}`);\n\t\t\t\tthis._observers[i][\"handler\"](conditions, this._observers[i], ...args);\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Mute notification.\n\t */\n\tmute()\n\t{\n\n\t\tthis._options[\"notifyOnChange\"] = false;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Unmute notification.\n\t */\n\tunmute()\n\t{\n\n\t\tthis._options[\"notifyOnChange\"] = true;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deep merge two objects.\n\t *\n\t * @param\t{Object}\t\tobj1\t\t\t\t\tObject1.\n\t * @param\t{Object}\t\tobj2\t\t\t\t\tObject2.\n\t *\n\t * @return  {Object}\t\tMerged array.\n\t */\n\t#__deepMerge(obj1, obj2, changedItem)\n\t{\n\n\t\tchangedItem = changedItem || {};\n\t\tlet key = \"\";\n\n\t\tUtil.assert(obj1 && typeof obj1 === \"object\" && obj2 && typeof obj2 === \"object\", () => \"ObservableStore.#__deepMerge(): Parameters must be an object.\", TypeError);\n\n\t\tObject.keys(obj2).forEach((key) => {\n\t\t\tif (Array.isArray(obj1[key]))\n\t\t\t{\n\t\t\t\tobj1[key] = obj1[key].concat(obj2[key]);\n\t\t\t\tchangedItem[key] = obj1[key];\n\t\t\t}\n\t\t\telse if (\n\t\t\t\tobj1.hasOwnProperty(key) &&\n\t\t\t\tobj1[key] && typeof obj1[key] === 'object' &&\n\t\t\t\tobj2[key] && typeof obj2[key] === 'object' &&\n\t\t\t\t!(obj1[key] instanceof HTMLElement)\n\t\t\t)\n\t\t\t{\n\t\t\t\tUtil.deepMerge(obj1[key], obj2[key]);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (obj1[key] !== obj2[key])\n\t\t\t\t{\n\t\t\t\t\tobj1[key] = obj2[key];\n\t\t\t\t\tchangedItem[key] = obj1[key];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn obj1;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\n// =============================================================================\n//\tFormatter Util Class\n// =============================================================================\n\nexport default class FormatterUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n \t * Format the value.\n\t *\n\t * @param\t{string}\t\tformat\t\t\t\tFormat.\n\t * @param\t{string}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tFormatted value.\n\t */\n\tstatic format(format, value, options)\n\t{\n\n\t\toptions = options || {};\n\t\tlet ret = value;\n\n\t\tlet tokens = FormatterUtil.#__bisect(format, \"-\");\n\t\tlet type = tokens[0];\n\t\tlet typeOption = (tokens.length > 1 ? tokens[1] : \"\");\n\n\t\tswitch (type)\n\t\t{\n\t\tcase \"date\":\n\t\tcase \"datetime\":\n\t\tcase \"time\":\n\t\t\tret = this.formatDate(type, typeOption, value, options);\n\t\t\tbreak;\n\t\tcase \"price\":\n\t\t\tret = this.formatPrice(type, typeOption, value, options);\n\t\t\tbreak;\n\t\tcase \"number\":\n\t\t\tret = this.formatNumber(type, typeOption, value, options);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t// Interpolation\n\t\t\tif (format.charAt(0) === \"`\")\n\t\t\t{\n\t\t\t\tret = this.interpolateResources(format, value, options);\n\t\t\t\tret = this.interpolate(ret, options);\n\t\t\t\tret = this.interpolateValue(ret, value, options);\n\t\t\t\t//ret = ret.replace(\"${value}\", value);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn String(ret);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Format price.\n\t *\n\t * @param\t{String}\t\ttype\t\t\t\tType.\n\t * @param\t{String}\t\ttypeOption\t\t\tType specific option.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tFormatted value.\n\t */\n\tstatic formatPrice(type, typeOption, value, options)\n\t{\n\n\t\tlet result = value;\n\n\t\tif (value)\n\t\t{\n\t\t\tvalue = parseInt(value).toLocaleString(navigator.language);\n\t\t}\n\n\t\treturn result || \"\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Format price.\n\t *\n\t * @param\t{String}\t\ttype\t\t\t\tType.\n\t * @param\t{String}\t\ttypeOption\t\t\tType specific option.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {string}\t\tFormatted value.\n\t */\n\tstatic formatNumber(type, typeOption, value, options)\n\t{\n\n\t\tlet result = value;\n\n\t\tif (value)\n\t\t{\n\t\t\tvalue = parseInt(value).toLocaleString(navigator.language);\n\t\t}\n\n\t\treturn result || \"\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Format date.\n\t *\n\t * @param\t{String}\t\ttype\t\t\t\tType.\n\t * @param\t{String}\t\ttypeOption\t\t\tType specific option.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tFormatted value.\n\t */\n\tstatic formatDate(type, typeOption, value, options)\n\t{\n\n\t\tlet result = value;\n\t\tlet inFormat;\n\t\tlet outFormat = typeOption;\n\n\t\tlet dt;\n\t\tif (value.length === 8)\n\t\t{\n\t\t\tdt = new Date(`${value.substr(0, 4)}-${value.substr(4, 2)}-${value.substr(6, 2)}`);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdt = new Date(value);\n\t\t}\n\n\t\tswitch (typeOption)\n\t\t{\n\t\tcase \"\":\n\t\t\tresult = dt.toString();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlet y = String(dt.getFullYear());\n\t\t\tlet m = String(1 + dt.getMonth());\n\t\t\tlet d = String(dt.getDate());\n\t\t\tlet h = String(dt.getHours());\n\t\t\tlet mi = String(dt.getMinutes());\n\t\t\tlet s = String(dt.getSeconds());\n\n\t\t\tresult = outFormat\n\t\t\tresult = result.replace(/YYYY/g, y.padStart(4, \"0\"));\n\t\t\tresult = result.replace(/YY/g, y.slice(-2).padStart(2, \"0\"));\n\t\t\tresult = result.replace(/MM/g, m.padStart(2, \"0\"));\n\t\t\tresult = result.replace(/M/g, m.padStart(1, \"0\"));\n\t\t\tresult = result.replace(/DD/g, d.padStart(2, \"0\"));\n\t\t\tresult = result.replace(/D/g, d.padStart(1, \"0\"));\n\t\t\tresult = result.replace(/hh/g, h.padStart(2, \"0\"));\n\t\t\tresult = result.replace(/h/g, h.padStart(1, \"0\"));\n\t\t\tresult = result.replace(/mm/g, mi.padStart(2, \"0\"));\n\t\t\tresult = result.replace(/m/g, mi.padStart(1, \"0\"));\n\t\t\tresult = result.replace(/ss/g, s.padStart(2, \"0\"));\n\t\t\tresult = result.replace(/s/g, s.padStart(1, \"0\"));\n\t\t\tbreak;\n\t\t}\n\n\t\treturn result || \"\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deformat the value.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Object}\t\tDeformatted value.\n\t */\n\tstatic deformat(format, value, options)\n\t{\n\n\t\tlet ret = value;\n\n\n\t\tswitch (format)\n\t\t{\n\t\tcase \"date-YYYY-MM-DD\":\n\t\t\tret = value.replace(/-/g, \"\");\n\t\t\tbreak;\n\t\tcase \"date-YYYY/MM/DD\":\n\t\t\tret = value.replace(/\\//g, \"\");\n\t\t\tbreak;\n\t\tcase \"price\":\n\t\t\tret = this.deformatPrice(format, value);\n\t\t\tbreak;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deformat price.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tvalue\t\t\t\tPrice.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tDeformatted price.\n\t */\n\tstatic deformatPrice(format, value, options)\n\t{\n\n\t\tvar result = \"\";\n\n\t\tif (value)\n\t\t{\n\t\t\tresult = value.replace(/,/g, \"\").replace(/\\//g, \"\").replace(/\\\\/g, \"\").replace(\"¥\", \"\");\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Deformat date.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tvalue\t\t\t\tDate.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tDeformatted date.\n\t */\n\tstatic deformatDate(format, value, options)\n\t{\n\n\t\tvar result = \"\";\n\n\t\tif (value)\n\t\t{\n\t\t\tresult = value.replace(/,/g, \"\").replace(/\\//g, \"\").replace(/\\\\/g, \"\");\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get current date time.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tdateDelimiter\t\tDate delimiter.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tCurrent date time.\n\t */\n\tstatic getNow(format, dateDelimiter, options)\n\t{\n\n\t\tdateDelimiter = ( dateDelimiter ? dateDelimiter : \"-\" );\n\t\tvar d = new Date();\n\t\tvar now = d.getFullYear() + dateDelimiter + (\"00\" + (d.getMonth() + 1)).slice(-2) + dateDelimiter + (\"00\" + d.getDate()).slice(-2) + \" \" +\n\t\t\t\t\t(\"00\" + d.getHours()).slice(-2) + \":\" + (\"00\" + d.getMinutes()).slice(-2) + \":\" + (\"00\" + d.getSeconds()).slice(-2);\n\n\t\treturn now;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get current date.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tdateDelimiter\t\tDate delimiter.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {String}\t\tCurrent date.\n\t */\n\tstatic getToday(format, dateDelimiter, options)\n\t{\n\n\t\tdateDelimiter = ( dateDelimiter === undefined ? \"-\" : dateDelimiter );\n\t\tvar d = new Date();\n\t\tvar today = d.getFullYear() + dateDelimiter + (\"00\" + (d.getMonth() + 1)).slice(-2) + dateDelimiter + (\"00\" + d.getDate()).slice(-2);\n\n\t\treturn today;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Sanitize string.\n\t *\n\t * @param\t{String}\t\tvalue\t\t\t\tValue to sanitize.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{String}\t\tSanitized string.\n\t */\n\tstatic sanitize(value, options)\n\t{\n\n\t\tif (typeof value === \"string\")\n\t\t{\n\t\t\treturn value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn value;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Interpolate using parameters.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions\n\t *\n\t * @return  {Object}\t\tFormatted value.\n\t */\n\tstatic interpolate(format, options)\n\t{\n\n\t\tlet ret = format;\n\t\tlet parameters = options[\"interpolation\"];\n\n\t\tif (parameters && format.indexOf(\"${\") > -1)\n\t\t{\n\t\t\tret = ret.replace(/\\$\\{(.+)\\}/g, (_, name) => {\n\t\t\t\tlet tokens = FormatterUtil.#__bisect(name, \":\");\n\t\t\t\tlet value = parameters[tokens[0]];\n\n\t\t\t\tif (!value)\n\t\t\t\t{\n\t\t\t\t\tvalue = \"${\" + name + \"}\";\n\t\t\t\t}\n\t\t\t\telse if (value && tokens.length > 1)\n\t\t\t\t{\n\t\t\t\t\tvalue = this.format(tokens[1], value, options);\n\t\t\t\t}\n\n\t\t\t\treturn value || \"\";\n\t\t\t});\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Interpolate ${value} using parameters.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions\n\t *\n\t * @return  {Object}\t\tFormatted value.\n\t */\n\tstatic interpolateValue(format, value, options)\n\t{\n\n\t\tlet ret = format;\n\n\t\tif (format.indexOf(\"${value\") > -1)\n\t\t{\n\t\t\tret = ret.replace(/\\$\\{value(.*)\\}/g, (_, name) => {\n\t\t\t\tlet tokens = FormatterUtil.#__bisect(name, \":\");\n\t\t\t\tlet tmp = value;\n\n\t\t\t\tif (tokens.length > 1)\n\t\t\t\t{\n\t\t\t\t\ttmp = this.format(tokens[1], value, options);\n\t\t\t\t}\n\n\t\t\t\treturn tmp || \"\";\n\t\t\t});\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Interpolate using ResourceHandlers.\n\t *\n\t * @param\t{String}\t\tformat\t\t\t\tFormat.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\tresources\t\t\tResources.\n\t *\n\t * @return  {Object}\t\tFormatted value.\n\t */\n\tstatic interpolateResources(format, value, options)\n\t{\n\n\t\tlet ret = format;\n\t\tlet resources = options[\"resources\"];\n\n\t\tif (resources && format.indexOf(\"#{\") > -1)\n\t\t{\n\t\t\tret = format.replace(/\\#\\{(.+)\\}/g, (_, name) => {\n\t\t\t\tlet arr = name.split(\".\");\n\t\t\t\tlet resourceName = arr[0];\n\t\t\t\tlet key = arr[1];\n\t\t\t\treturn FormatterUtil.#__getResourceValue(resources, resourceName, value, key) || \"\";\n\t\t\t});\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the resource value that matches given value.\n\t *\n\t * @param\t{array}\t\t\tresources\t\t\tResources.\n\t * @param\t{String}\t\tresourceName\t\tResource name.\n\t * @param\t{String}\t\tvalue\t\t\t\tCode value.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t *\n\t * @return  {String}\t\tResource value.\n\t */\n\tstatic #__getResourceValue(resources, resourceName, value, key)\n\t{\n\n\t\tlet ret = value;\n\n\t\tif (resources && (resourceName in resources))\n\t\t{\n\t\t\tlet item = resources[resourceName].getItem(value);\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\tret = item[key];\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Split the target string into two with the delimiter.\n\t *\n\t * @param\t{String}\t\ttarget\t\t\t\tTarget string to divide.\n\t * @param\t{String}\t\tdelimiter\t\t\tDelimiter char.\n\t *\n\t * @return  {Arry}\t\t\tSplitted string.\n\t */\n\tstatic #__bisect(target, delimiter)\n\t{\n\n\t\tlet ret = [];\n\n\t\tlet pos = target.indexOf(delimiter);\n\t\tif (pos > -1)\n\t\t{\n\t\t\tret.push(target.substring(0, pos));\n\t\t\tret.push(target.substring(pos + 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tret.push(target);\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport FormatterUtil from \"../util/formatter-util.js\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tValue Util Class\n// =============================================================================\n\nexport default class ValueUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Attribute name.\n\t *\n\t * @type\t{String}\n\t */\n\tstatic get attributeName()\n\t{\n\n\t\treturn \"bm-bind\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Formatter.\n\t *\n\t * @type\t{Class}\n\t */\n\tstatic get formatter()\n\t{\n\n\t\treturn FormatterUtil;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Fill fields.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tForm node.\n\t * @param\t{Ojbect}\t\titems\t\t\t\tValues to fill.\n\t * @param\t{Object}\t\tmasters\t\t\t\tMaster values.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic setFields(rootNode, items, options)\n\t{\n\n\t\t// Get elements with the attribute\n\t\tlet elements = Util.scopedSelectorAll(rootNode, `[${this.attributeName}]`);\n\t\tif (rootNode.matches(`[${this.attributeName}]`))\n\t\t{\n\t\t\telements.push(rootNode);\n\t\t}\n\n\t\telements.forEach((element) => {\n\t\t\tlet value;\n\t\t\tif (element.hasAttribute(`${this.attributeName}-in`))\n\t\t\t{\n\t\t\t\tvalue = this.getValue(element)\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvalue = Util.safeGet(items, element.getAttribute(this.attributeName));\n\t\t\t}\n\n\t\t\t// Set\n\t\t\tif (value !== undefined)\n\t\t\t{\n\t\t\t\tthis.setValue(element, value, options);\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get fields values.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tForm node.\n\t *\n\t * @return  {Object}\t\tValues.\n\t */\n\tstatic getFields(rootNode, options)\n\t{\n\n\t\tlet item = {};\n\n\t\t// Get elements with the attribute\n\t\tlet elements = Util.scopedSelectorAll(rootNode, `[${this.attributeName}]`);\n\t\tif (rootNode.matches(`[${this.attributeName}]`))\n\t\t{\n\t\t\telements.push(rootNode);\n\t\t}\n\n\t\telements.forEach((element) => {\n\t\t\t// Get the value from the element\n\t\t\tlet key = element.getAttribute(this.attributeName);\n\t\t\tlet value = this.getValue(element);\n\n\t\t\tif (Array.isArray(item[key]))\n\t\t\t{\n\t\t\t\t// Same key already exists and it is an array\n\t\t\t\t// ---> add the value to the array\n\t\t\t\tif (value)\n\t\t\t\t{\n\t\t\t\t\titem[key].push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (item[key])\n\t\t\t{\n\t\t\t\t// Same key already exists and it is not an array\n\t\t\t\t// ---> create an array and add existing value and the value to the array\n\t\t\t\tif (value)\n\t\t\t\t{\n\t\t\t\t\tlet items = [];\n\t\t\t\t\titems.push(item[key]);\n\t\t\t\t\titems.push(value);\n\t\t\t\t\titem[key]= items;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\titem[key] = value;\n\t\t\t}\n\t\t});\n\n\t\treturn item;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear fields.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tForm node.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic clearFields(rootNode, options)\n\t{\n\n\t\tlet target = Util.safeGet(options, \"target\", \"\");\n\n\t\t// Clear input elements\n\t\tlet elements = Util.scopedSelectorAll(rootNode, `${target} input`, options);\n\t\telements.forEach((element) => {\n\t\t\tthis.clearValue(element, options);\n\t\t});\n\n\t\t// Clear select elements\n\t\telements = Util.scopedSelectorAll(rootNode, `${target} select`, options);\n\t\telements.forEach((element) => {\n\t\t\tthis.clearValue(element, options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the element.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tHtml element.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic setValue(element, value, options)\n\t{\n\n\t\toptions = options || {};\n\t\t//let result = ( value === undefined || value === null ? \"\" : String(value) );\n\t\tlet result = ( value === undefined || value === null ? \"\" : value );\n\n\t\t// Format\n\t\tif (element.hasAttribute(`${this.attributeName}-format`) && !element.hasAttribute(`${this.attributeName}-formatted`))\n\t\t{\n\t\t\tresult = this.formatter.format(element.getAttribute(`${this.attributeName}-format`), value, options);\n\t\t\telement.setAttribute(`${this.attributeName}-formatted`, \"\");\n\t\t}\n\n\t\t// Interpolate\n\t\tif (typeof(result) === \"string\" && result.charAt(0) === \"`\")\n\t\t{\n\t\t\tresult = this.formatter.interpolateResources(result, value, options);\n\t\t\tresult = this.formatter.interpolate(result, options);\n\t\t\tresult = this.formatter.interpolateValue(result, value, options);\n\t\t\tresult = result.replace(/^`|`$/g, '');\n\t//\t\tret = ret.replace(\"${value}\", value);\n\t\t}\n\n\t\t// Set value\n\t\tlet targets = element.getAttribute(`${this.attributeName}-out`);\n\t\tif (targets)\n\t\t{\n\t\t\tthis._setValue_target(element, targets, result);\n\t\t}\n\t\telse if (element.hasAttribute(\"value\"))\n\t\t{\n\t\t\tthis._setValue_value(element, result);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._setValue_element(element, result);\n\t\t}\n\n\t\t// Trigger change event\n\t\tif (options[\"triggerEvent\"])\n\t\t{\n\t\t\tlet e = new CustomEvent(\"change\", {\"detail\":options[\"triggerOptions\"]});\n\t\t\telement.dispatchEvent(e);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get value from the element.\n\t *\n\t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t *\n\t * @return  {String}\t\tValue.\n\t */\n\tstatic getValue(element, options)\n\t{\n\n\t\tlet ret = undefined;\n\n\t\tlet target = element.getAttribute(`${this.attributeName}-in`);\n\t\tif (target)\n\t\t{\n\t\t\tret = this._getValue_target(element, target);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tret = this._getValue_element(element);\n\t\t}\n\n\t\t// Deformat\n\t\tif (element.hasAttribute(`${this.attributeName}-format`))\n\t\t{\n\t\t\tret = this.formatter.deformat(element.getAttribute(`${this.attributeName}-format`), ret);\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Clear the element.\n\t *\n\t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t */\n\tstatic clearValue(element, options)\n\t{\n\n\t\tlet eventName = \"change\";\n\n\t\tswitch (element.type.toLowerCase())\n\t\t{\n\t\tcase \"select-one\":\n\t\tcase \"select-multiple\":\n\t\t\telement.selectedIndex = -1;\n\t\t\tbreak;\n\t\tcase \"checkbox\":\n\t\tcase \"radio\":\n\t\t\telement.checked = false;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\telement.value = \"\";\n\t\t\tbreak;\n\t\t}\n\n\t\t// Trigger change event\n\t\tif (options && options[\"triggerEvent\"])\n\t\t{\n\t\t\tlet e = new CustomEvent(\"change\", {\"detail\":options[\"triggerOptions\"]});\n\t\t\telement.dispatchEvent(e);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the target positions.\n\t *\n\t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t * @param\t{String}\t\ttargets\t\t\t\tTarget poisitions.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic _setValue_target(element, targets, value)\n\t{\n\n\t\tlet items = targets.split(\",\");\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tlet item = items[i].toLowerCase();\n\t\t\tswitch (item)\n\t\t\t{\n\t\t\tcase \"text\":\n\t\t\t\telement.innerText = value;\n\t\t\t\tbreak;\n\t\t\tcase \"html\":\n\t\t\t\telement.innerHTML = value;\n\t\t\t\tbreak;\n\t\t\tcase \"outerhtml\":\n\t\t\t\telement.outerHTML = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\telement.setAttribute(item, value);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the value attribute.\n\t *\n\t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic _setValue_value(element, value)\n\t{\n\n\t\tif (\n\t\t\t(element.tagName.toLowerCase() === \"input\" && element.type.toLowerCase() === \"checkbox\") ||\n\t\t\t(element.tagName.toLowerCase() === \"input\" && element.type.toLowerCase() === \"radio\")\n\t\t)\n\t\t{\n\t\t\tif (Array.isArray(value))\n\t\t\t{\n\t\t\t\tif (value.indexOf(element.getAttribute(\"value\")) > -1)\n\t\t\t\t{\n\t\t\t\t\telement.checked = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (element.getAttribute(\"value\") === value)\n\t\t\t\t{\n\t\t\t\t\telement.checked = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\telement.setAttribute(\"value\", value)\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n  \t * Set the value to the element.\n \t *\n \t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t * @param\t{String}\t\tvalue\t\t\t\tValue.\n\t */\n\tstatic _setValue_element(element, value)\n\t{\n\n\t\tswitch (element.tagName.toLowerCase())\n\t\t{\n\t\t\tcase \"select\":\n\t\t\t\telement.value = value;\n\t\t\t\tbreak;\n\t\t\tcase \"input\":\n\t\t\t\tswitch (element.type.toLowerCase())\n\t\t\t\t{\n\t\t\t\tcase \"number\":\n\t\t\t\tcase \"search\":\n\t\t\t\tcase \"text\":\n\t\t\t\t\telement.value = value;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"checkbox\":\n\t\t\t\t\telement.checked = ( value && value != \"0\" ? true : false );\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"radio\":\n\t\t\t\t\tif (element.value === value)\n\t\t\t\t\t{\n\t\t\t\t\t\telement.checked = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\telement.innerText = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from the target positions.\n\t *\n\t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t * @param\t{String}\t\ttarget\t\t\t\tTarget poisition.\n\t *\n\t * @return  {String}\t\tValue.\n\t */\n\tstatic _getValue_target(element, target)\n\t{\n\n\t\ttarget = target.toLowerCase();\n\t\tlet ret;\n\n\t\tswitch (target)\n\t\t{\n\t\tcase \"text\":\n\t\t\tret = element.innerText;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\telement.getAttribute(target);\n\t\t\tbreak;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n  \t * Get the value from the element.\n \t *\n \t * @param\t{Object}\t\telement\t\t\t\tHtml element.\n\t *\n\t * @return  {String}\t\tValue.\n\t */\n\tstatic _getValue_element(element)\n\t{\n\n\t\tlet ret;\n\n\t\tswitch (element.tagName.toLowerCase())\n\t\t{\n\t\tcase \"input\":\n\t\t\tswitch (element.type.toLowerCase())\n\t\t\t{\n\t\t\tcase \"radio\":\n\t\t\tcase \"checkbox\":\n\t\t\t\tif (element.checked)\n\t\t\t\t{\n\t\t\t\t\tret = ( element.hasAttribute(\"value\") ? element.getAttribute(\"value\") : true );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tret = false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tret = element.value;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"select\":\n\t\t\t// todo:multiselect\n\t\t\tret = element.value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tif (element.hasAttribute(\"selected\"))\n\t\t\t{\n\t\t\t\tret = element.getAttribute(\"value\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tret = element.textContent;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ValueUtil from \"../util/value-util.js\";\nimport {Store, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tBindable store class\n// =============================================================================\n\nexport default class BindableStore extends Store\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(options)\n\t{\n\n\t\tlet defaults = {};\n\t\tsuper(Object.assign(defaults, options));\n\n\t\tthis._elems = {};\n\t\tthis._valueHandler = Util.safeGet(options, \"valueHandler\", ValueUtil);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\tclear(...args)\n\t{\n\n\t\tsuper.clear();\n\n\t\treturn this._notify(\"*\", ...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\treplace(value, ...args)\n\t{\n\n\t\tthis._items = value;\n\n\t\tObject.keys(this._items).forEach((key) => {\n\t\t\tif (this._elems[key] && this._elems[key][\"callback\"])\n\t\t\t{\n\t\t\t\tlet value = this._items[key];\n\t\t\t\tthis._items[key] = this._elems[key][\"callback\"](value, {\"changedItem\":{[key]:value}});\n\t\t\t}\n\t\t});\n\n\t\treturn this._notify(value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tset(key, value, options, ...args)\n\t{\n\n\t\tif (this._elems[key] && this._elems[key][\"callback\"])\n\t\t{\n\t\t\tvalue = this._elems[key][\"callback\"](value, {\"changedItem\":{[key]:value}});\n\t\t}\n\n\t\tsuper.set(key, value);\n\n\t\treturn this._notify({[key]:value}, ...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Bind the store to an element.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to bind.\n\t * @param\t{Element}\t\telem\t\t\t\tHTML Element to bind.\n\t * @param\t{Function}\t\tcallback\t\t\tCallback function that is called when value is changed.\n\t */\n\tbindTo(key, elem, callback)\n\t{\n\n\t\tlet bound = ( elem.__bm_bindinfo && elem.__bm_bindinfo.bound ? true : false );\n\t\tif (!bound)\n\t\t{\n\t\t\tthis._elems[key] = this._elems[key] || {\"elements\":[]};\n\t\t\tthis._elems[key][\"elements\"].push(elem);\n\t\t\tthis._elems[key][\"callback\"] = callback;\n\n\t\t\tlet direction = this._options[\"direction\"];\n\t\t\tif (direction === \"two-way\" || direction === \"one-way-reverse\")\n\t\t\t{\n\t\t\t\t// Update store value when element's value changed\n\t\t\t\tlet eventName = this._options[\"eventName\"] || \"change\";\n\t\t\t\telem.addEventListener(eventName, ((e) => {\n\t\t\t\t\tif (!e.detail || (e.detail && e.detail[\"triggeredBy\"] !== \"store\"))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.set(key, this._valueHandler.getValue(elem), null, elem);\n\t\t\t\t\t}\n\t\t\t\t}).bind(this));\n\t\t\t}\n\n\t\t\telem.__bm_bindinfo = { \"bound\": true };\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify observers.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_notify(conditions, ...args)\n\t{\n\n\t\tif (this._options[\"direction\"] !== \"one-way-reverse\" )\n\t\t{\n\t\t\treturn this._notifyAsync(conditions, ...args);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify observers asynchronously.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{HTMLElement}\tsrc\t\t\t\t\tChanged element.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_notifyAsync(conditions, src, ...args)\n\t{\n\n\t\tObject.keys(conditions).forEach((key) => {\n\t\t\tif (this._elems[key])\n\t\t\t{\n\t\t\t\tlet value = this.get(key);\n\t\t\t\tfor (let i = 0; i < this._elems[key][\"elements\"].length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (this._elems[key][\"elements\"][i] !== src)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._valueHandler.setValue(this._elems[key][\"elements\"][i], value, {\n\t\t\t\t\t\t\t\"resources\":this._options[\"resources\"],\n\t\t\t\t\t\t\t\"triggerEvent\": true,\n\t\t\t\t\t\t\t\"triggerOptions\": {\n\t\t\t\t\t\t\t\t\"triggeredBy\": \"store\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ArrayStore from \"../store/array-store.js\";\nimport ValueUtil from \"../util/value-util.js\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tBindable store class\n// =============================================================================\n\nexport default class BindableArrayStore extends ArrayStore\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(options)\n\t{\n\n\t\tlet defaults = {};\n\t\tsuper(Object.assign(defaults, options));\n\n\t\tthis._elems = {};\n\t\tthis._valueHandler = Util.safeGet(options, \"valueHandler\", ValueUtil);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Method\n\t// -------------------------------------------------------------------------\n\n\tclear(index, ...args)\n\t{\n\n\t\tsuper.clear(...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\treplace(index, value, ...args)\n\t{\n\n\t\tthis._items[index] = value;\n\n\t\tif (this._elems[index])\n\t\t{\n\t\t\tObject.keys(this._items[index]).forEach((key) => {\n\t\t\t\tif (this._elems[index][key] && this._elems[index][key][\"callback\"])\n\t\t\t\t{\n\t\t\t\t\tlet value = this._items[index][key];\n\t\t\t\t\tthis._items[index][key] = this._elems[index][key][\"callback\"](value, {\"changedItem\":{[key]:value}});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn this._notify({\"index\":index, \"values\":value});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tset(index, key, value, options, ...args)\n\t{\n\n\t\tif (this._elems[index][key] && this._elems[index][key][\"callback\"])\n\t\t{\n\t\t\tvalue = this._elems[index][key][\"callback\"](value, {\"changedItem\":{[key]:value}});\n\t\t}\n\n\t\tsuper.set(index, key, value);\n\n\t\treturn this._notify({\"index\":index, \"values\":{[key]:value}}, ...args);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Bind the store to an element.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to bind.\n\t * @param\t{Element}\t\telem\t\t\t\tHTML Element to bind.\n\t * @param\t{Function}\t\tcallback\t\t\tCallback function that is called when value is changed.\n\t */\n\tbindTo(index, key, elem, callback)\n\t{\n\n\t\tlet bound = ( elem.__bm_bindinfo && elem.__bm_bindinfo.bound ? true : false );\n\t\tif (!bound)\n\t\t{\n\t\t\tif (!this._elems[index])\n\t\t\t{\n\t\t\t\tthis._elems[index] = {};\n\t\t\t}\n\t\t\tlet info = this._elems[index];\n\t\t\tinfo[key] = this._elems[index][key] || {\"elements\":[]};\n\t\t\tinfo[key][\"elements\"].push(elem);\n\t\t\tinfo[key][\"callback\"] = callback;\n\n\t\t\tlet direction = this._options[\"direction\"];\n\t\t\tif (direction === \"two-way\" || direction === \"one-way-reverse\")\n\t\t\t{\n\t\t\t\t// Update store value when element's value changed\n\t\t\t\tlet eventName = this._options[\"eventName\"] || \"change\";\n\t\t\t\telem.addEventListener(eventName, ((e) => {\n\t\t\t\t\tif (!e.detail || (e.detail && e.detail[\"triggeredBy\"] !== \"store\"))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.set(index, key, this._valueHandler.getValue(elem), null, elem);\n\t\t\t\t\t}\n\t\t\t\t}).bind(this));\n\t\t\t}\n\n\t\t\telem.__bm_bindinfo = { \"bound\": true, \"index\":index };\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify observers.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_notify(conditions, ...args)\n\t{\n\n\t\tif (this._options[\"direction\"] !== \"one-way-reverse\" )\n\t\t{\n\t\t\treturn this._notifyAsync(conditions, ...args);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Notify observers asynchronously.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tCurrent conditions.\n\t * @param\t{HTMLElement}\tsrc\t\t\t\t\tChanged element.\n\t * @param\t{Object}\t\t...args\t\t\t\tArguments to callback function.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_notifyAsync(conditions, src, ...args)\n\t{\n\n\t\tlet index = conditions[\"index\"];\n\t\tlet values = conditions[\"values\"];\n\n\t\tObject.keys(values).forEach((key) => {\n\t\t\tif (this._elems[index][key])\n\t\t\t{\n\t\t\t\tlet value = this.get(index, key);\n\t\t\t\tfor (let i = 0; i < this._elems[index][key][\"elements\"].length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (this._elems[index][key][\"elements\"][i] !== src)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._valueHandler.setValue(this._elems[index][key][\"elements\"][i], value, {\n\t\t\t\t\t\t\t\"resources\":this._options[\"resources\"],\n\t\t\t\t\t\t\t\"triggerEvent\": true,\n\t\t\t\t\t\t\t\"triggerOptions\": {\n\t\t\t\t\t\t\t\t\"triggeredBy\": \"store\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Unit, Perk, Util, AjaxUtil} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tFile Perk class\n// =============================================================================\n\nexport default class FilePerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__info = {\n\t\t\"sectionName\":\t\"file\",\n\t\t\"order\":\t\t110,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn FilePerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":FilePerk.#FilePerk_onDoApplySettings, \"order\":FilePerk.info[\"order\"]});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -----------------------------------------------------------------------------\n\n\tstatic #FilePerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet promises = [];\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.file.targets\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tlet options = {};\n\t\t\toptions[\"type\"] = Unit.get(\"setting\", \"system.options.type\", \"text/javascript\");\n\t\t\tpromises.push(AjaxUtil.loadScript(sectionValue[\"href\"], options));\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tError Perk class\n// =============================================================================\n\nexport default class ErrorPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\"error\",\n\t\t\"order\":\t\t120,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn ErrorPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #ErrorPerk_onDoStart(sender, e, ex)\n\t{\n\n\t\tlet serverNode = this.get(\"setting\", \"error.options.errorServer\", this.get(\"setting\", \"system.error.options.errorServer\"));\n\t\tserverNode = ( serverNode === true ? \"bm-error\" : serverNode );\n\n\t\treturn this.cast(\"status.wait\", [serverNode]).then(() => {\n\t\t\tlet server = document.querySelector(serverNode);\n\t\t\tserver.subscribe(this, Util.safeGet(e.detail, \"settings.error\"));\n\t\t\tDialogPerk.#__vault.get(unit)[\"server\"] = server;\n\t\t});\n\n\t}\n\n}\n","//// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport FormatterUtil from \"./formatter-util.js\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tForm util class\n// =============================================================================\n\nexport default function FormUtil() {}\n\n// -----------------------------------------------------------------------------\n//  Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Show \"bm-visible\" elements if condition match.\n *\n * @param\t{HTMLElement}\trootNode\t\t\tRoot node.\n * @param\t{Object}\t\titem\t\t\t\tItem used to judge condition.\n */\nFormUtil.showConditionalElements = function(rootNode, item)\n{\n\n\t// Get elements with bm-visible attribute\n\tlet elements = Util.scopedSelectorAll(rootNode, \"[bm-visible]\");\n\n\t// Show elements\n\telements.forEach((element) => {\n\t\tlet condition = element.getAttribute(\"bm-visible\");\n\t\tif (Util.safeEval(condition, item))\n\t\t{\n\t\t\telement.style.removeProperty(\"display\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\telement.style.display = \"none\";\n\t\t}\n\t});\n\n}\n\n// -------------------------------------------------------------------------\n\n/**\n * Hide \"bm-visible\" elements.\n *\n * @param\t{HTMLElement}\trootNode\t\t\tRoot node.\n */\nFormUtil.hideConditionalElements = function(rootNode)\n{\n\n\t// Get elements with bm-visible attribute\n\tlet elements = Util.scopedSelectorAll(rootNode, \"[bm-visible]\");\n\n\t// Hide elements\n\telements.forEach((element) => {\n\t\telement.style.display = \"none\";\n\t});\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Build the form element.\n *\n * @param\t{HTMLElement}\telement\t\t\t\tElement to build.\n * @param\t{Object}\t\titems\t\t\t\tItems.\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n */\nFormUtil.build = function(element, items, options)\n{\n\n\tswitch (element.tagName.toLowerCase())\n\t{\n\tcase \"select\":\n\t\tFormUtil._build_select(element, items, options);\n\t\tbreak;\n\t}\n\n}\n\n// -----------------------------------------------------------------------------\n//  Protected\n// -----------------------------------------------------------------------------\n\n/**\n * Build the select element.\n *\n * @param\t{HTMLElement}\telement\t\t\t\tElement to build.\n * @param\t{Object}\t\titems\t\t\t\tItems.\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n */\nFormUtil._build_select = function(element, items, options)\n{\n\n\toptions = options || {};\n\telement.options.length = 0;\n\n\tif (\"emptyItem\" in options)\n\t{\n\t\tlet text = ( \"text\" in options[\"emptyItem\"] ? options[\"emptyItem\"][\"text\"] : \"\");\n\t\tlet value = ( \"value\" in options[\"emptyItem\"] ? options[\"emptyItem\"][\"value\"] : \"\");\n\t\tlet option = document.createElement(\"option\");\n\t\toption.text = text;\n\t\toption.value = value;\n\t\telement.appendChild(option);\n\t}\n\n\tObject.keys(items).forEach((id) => {\n\t\tlet option = document.createElement(\"option\");\n\n\t\toption.text = ( options[\"text\"] ? items[id][options[\"text\"]] : id );\n\t\toption.value = ( options[\"value\"] ? items[id][options[\"value\"]] : id );\n\n\t\telement.appendChild(option);\n\t});\n\n\telement.selectedIndex = -1;\n\tif (\"defaultValue\" in options)\n\t{\n\t\telement.value = options[\"defaultValue\"];\n\t}\n\n}\n\n// -----------------------------------------------------------------------------\n\n/**\n * Build the radio element.\n *\n * @param\t{HTMLElement}\telement\t\t\t\tElement to build.\n * @param\t{Object}\t\titems\t\t\t\tItems.\n * @param\t{Object}\t\toptions\t\t\t\tOptions.\n */\nFormUtil._build_radio = function(rootNode, fieldName, item)\n{\n\n\tObject.keys(item.items).forEach((id) => {\n\t\tlet label = document.createElement(\"label\");\n\t\tlet option = document.createElement(\"input\");\n\t\toption.type = \"radio\";\n\t\toption.id = key;\n\t\toption.name = key;\n\t\toption.value = id;\n\t\toption.setAttribute(\"bm-bind\", key);\n\t\toption.setAttribute(\"bm-submit\", \"\");\n\t\tlabel.appendChild(option);\n\t\tlabel.appendChild(document.createTextNode(item.items[id][\"title\"]));\n\t\telement.appendChild(label);\n\t});\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport FormUtil from \"../util/form-util.js\";\nimport {Perk, Util, Unit} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tElement Perk class\n// =============================================================================\n\nexport default class ElementPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\"element\",\n\t\t\"order\":\t\t220,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn ElementPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tElementPerk.#__vault.set(unit, {\n\t\t\t\"overlay\":\t\t\tnull,\n\t\t\t\"overlayPromise\":\tPromise.resolve(),\n\t\t})\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":ElementPerk.#ElementPerk_onDoApplySettings, \"order\":ElementPerk.info[\"order\"]});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -----------------------------------------------------------------------------\n\n\tstatic #ElementPerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet order = ElementPerk.info[\"order\"];\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.element.targets\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tthis.use(\"event.add\", sectionName, {\n\t\t\t\t\"handler\":\tElementPerk.ElementPerk_onDoProcess,\n\t\t\t\t\"order\":\torder,\n\t\t\t\t\"options\":\t{\"attrs\":sectionValue}\n\t\t\t});\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tstatic ElementPerk_onDoProcess(sender, e, ex)\n\t{\n\n\t\tlet settings = ex.options[\"attrs\"];\n\t\tlet promises = [];\n\n\t\tObject.keys(settings).forEach((elementName) => {\n\t\t\tpromises = promises.concat(ElementPerk.#__initElements(this, e, elementName, settings[elementName]));\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Private\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get target elements.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t *\n \t * @return  {Array}\t\t\tHTML elements.\n\t */\n\tstatic #__getTargetElements(unit, elementName, elementInfo)\n\t{\n\n\t\tlet elements;\n\n\t\tif (elementInfo[\"selector\"])\n\t\t{\n\t\t\tif (elementInfo[\"selector\"] === \"this\" || elementInfo[\"selector\"] === unit.tagName.toLowerCase())\n\t\t\t{\n\t\t\t\telements = [unit];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\telements = Util.scopedSelectorAll(unit, elementInfo[\"selector\"]);\n\t\t\t}\n\t\t}\n\t\telse if (elementName === \"this\" || elementName === unit.tagName.toLowerCase())\n\t\t{\n\t\t\telements = [unit];\n\t\t}\n\t\telse\n\t\t{\n\t\t\telements = Util.scopedSelectorAll(unit, `#${elementName}`);\n\t\t}\n\n\t\treturn elements;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init elements.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent info.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t */\n\tstatic #__initElements(unit, eventInfo, elementName, elementInfo)\n\t{\n\n\t\tlet ret = [];\n\t\tlet elements = ElementPerk.#__getTargetElements(unit, elementName, elementInfo);\n\n\t\tfor (let i = 0; i < elements.length; i++)\n\t\t{\n\t\t\tlet waitForElement = elements[i];\n\n\t\t\tObject.keys(elementInfo).forEach((key) => {\n\t\t\t\tswitch (key)\n\t\t\t\t{\n\t\t\t\tcase \"scroll\":\n\t\t\t\t\telements[i].scrollTo(elementInfo[key]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"showLoader\":\n\t\t\t\t\tElementPerk.#__showOverlay(unit, elementInfo[key]);\n\t\t\t\t\twaitForElement = ElementPerk.#__vault.get(unit)[\"overlay\"];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hideLoader\":\n\t\t\t\t\tElementPerk.#__hideOverlay(unit, elementInfo[key]);\n\t\t\t\t\twaitForElement = ElementPerk.#__vault.get(unit)[\"overlay\"];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"build\":\n\t\t\t\t\tlet resourceName = elementInfo[key][\"resourceName\"];\n\t\t\t\t\tFormUtil.build(elements[i], unit.get(\"inventory\", `resource.resources.${resourceName}`).items, elementInfo[key]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"attribute\":\n\t\t\t\t\tElementPerk.#__setAttributes(elements[i], elementInfo[key]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"class\":\n\t\t\t\t\tElementPerk.#__setClasses(elements[i], elementInfo[key]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"style\":\n\t\t\t\t\tObject.keys(elementInfo[key]).forEach((styleName) => {\n\t\t\t\t\t\telements[i].style[styleName] = elementInfo[key][styleName];\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"property\":\n\t\t\t\t\tObject.keys(elementInfo[key]).forEach((propertyName) => {\n\t\t\t\t\t\telements[i][propertyName] = elementInfo[key][propertyName];\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"autoFocus\":\n\t\t\t\t\telements[i].focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"selector\":\n\t\t\t\tcase \"waitFor\":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn(`ElementPerk.#__initAttr(): Invalid type. name=${unit.tagName}, eventName=${eventInfo.type}, type=${key}`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Wait for transition/animation to finish\n\t\t\tif (elementInfo[\"waitFor\"])\n\t\t\t{\n\t\t\t\tret.push(ElementPerk.#__waitFor(unit, eventInfo, elementName, elementInfo, waitForElement));\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Wait for transition to finish.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\teventInfo\t\t\tEvent info.\n\t * @param\t{String}\t\telementName\t\t\tElement name.\n\t * @param\t{Object}\t\telementInfo\t\t\tElement info.\n\t * @param\t{HTMLElement}\telement\t\t\t\tElement.\n\t *\n \t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic #__waitFor(unit, eventInfo, elementName, elementInfo, element)\n\t{\n\n\t\tlet inTransition = false;\n\n\t\tswitch (elementInfo[\"waitFor\"])\n\t\t{\n\t\tcase \"transition\":\n\t\t\tinTransition = (window.getComputedStyle(element).getPropertyValue('transition-duration') !== \"0s\");\n\t\t\tbreak;\n\t\tcase \"animation\":\n\t\t\tinTransition = (window.getComputedStyle(element).getPropertyValue('animation-name') !== \"none\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.warn(`ElementPerk.#__initAttr(): Invalid waitFor. name=${unit.tagName}, eventName=${eventInfo.type}, waitFor=${elementInfo[\"waitFor\"]}`);\n\t\t\tbreak;\n\t\t}\n\n\t\tUtil.warn(inTransition, `ElementPerk.#__initAttr(): Element not in ${elementInfo[\"waitFor\"]}. name=${unit.tagName}, eventName=${eventInfo.type}, elementName=${elementName}`);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// Timeout timer\n\t\t\tlet timer = setTimeout(() => {\n\t\t\t\treject(`ElementPerk.#__initAttr(): Timed out waiting for ${elementInfo[\"waitFor\"]}. name=${unit.tagName}, eventName=${eventInfo.type}, elementName=${elementName}`);\n\t\t\t}, unit.get(\"setting\", \"status.options.waitForTimeout\", unit.get(\"setting\", \"system.status.options.waitForTimeout\", 10000)));\n\n\t\t\t// Resolve when finished\n\t\t\telement.addEventListener(`${elementInfo[\"waitFor\"]}end`, () => {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\tresolve();\n\t\t\t}, {\"once\":true});\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set attributes to element.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tElement to set classes.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__setAttributes(element, options)\n\t{\n\n\t\tObject.keys(options).forEach((mode) => {\n\t\t\tswitch (mode)\n\t\t\t{\n\t\t\tcase \"add\":\n\t\t\t\tObject.keys(options[mode]).forEach((attrName) => {\n\t\t\t\t\telement.setAttribute(attrName, options[mode][attrName]);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tfor (let i = 0; i < options[mode].length; i++)\n\t\t\t\t{\n\t\t\t\t\telement.removeAttribute(options[mode][i]);\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.warn(`ElementPerk.#__setAttributes(): Invalid command. element=${element.tagName}, command=${mode}`);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t}\n\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set classes to element.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tElement to set classes.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__setClasses(element, options)\n\t{\n\n\t\tsetTimeout(() => {\n\t\t\tObject.keys(options).forEach((mode) => {\n\t\t\t\tswitch (mode)\n\t\t\t\t{\n\t\t\t\tcase \"add\":\n\t\t\t\t\telement.classList.add(options[mode]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"remove\":\n\t\t\t\t\telement.classList.remove(options[mode]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"replace\":\n\t\t\t\t\telement.setAttribute(\"class\", options[mode]);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn(`ElementPerk.#__setClasses(): Invalid command. element=${element.tagName}, command=${mode}`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}, 1);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create an overlay if not exists.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__createOverlay(unit, options)\n\t{\n\n\t\tlet overlay = ElementPerk.#__vault.get(unit)[\"overlay\"];\n\n\t\tif (!overlay)\n\t\t{\n\t\t\toverlay = document.createElement(\"div\");\n\t\t\toverlay.classList.add(\"overlay\");\n\t\t\tunit.get(\"inventory\", \"basic.unitRoot\").appendChild(overlay);\n\t\t\tElementPerk.#__vault.get(unit)[\"overlay\"] = overlay;\n\t\t}\n\n\t\treturn overlay\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Install an event handler to close when clicked.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__closeOnClick(unit, options)\n\t{\n\n\t\tElementPerk.#__vault.get(unit)[\"overlay\"].addEventListener(\"click\", (e) => {\n\t\t\tif (e.target === e.currentTarget && typeof unit.close === \"function\")\n\t\t\t{\n\t\t\t\tunit.close({\"reason\":\"cancel\"});\n\t\t\t}\n\t\t}, {\"once\":true});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get which effect is applied to overlay.\n\t *\n\t * @param\t{HTMLElement}\toverlay\t\t\t\tOverlay element.\n\t *\n\t * @return \t{String}\t\tEffect (\"transition\" or \"animation\").\n\t */\n\tstatic #__getEffect(overlay)\n\t{\n\n\t\tlet effect = \"\";\n\n\t\tif (window.getComputedStyle(overlay).getPropertyValue('transition-duration') !== \"0s\")\n\t\t{\n\t\t\teffect = \"transition\";\n\t\t}\n\t\telse if (window.getComputedStyle(overlay).getPropertyValue('animation-name') !== \"none\")\n\t\t{\n\t\t\teffect = \"animation\";\n\t\t}\n\n\t\treturn effect;\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Show overlay.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__showOverlay(unit, options)\n\t{\n\n\t\tlet overlay = ElementPerk.#__createOverlay(unit);\n\n\t\t// Add close on click event handler\n\t\tif (Util.safeGet(options, \"closeOnClick\"))\n\t\t{\n\t\t\tElementPerk.#__closeOnClick(unit);\n\t\t}\n\n\t\twindow.getComputedStyle(overlay).getPropertyValue(\"visibility\"); // Recalc styles\n\n\t\tlet addClasses = [\"show\"].concat(Util.safeGet(options, \"addClasses\", []));\n\t\toverlay.classList.add(...addClasses);\n\t\toverlay.classList.remove(...Util.safeGet(options, \"removeClasses\", []));\n\n\t\tlet effect = ElementPerk.#__getEffect(overlay);\n\t\tif (effect)\n\t\t{\n\t\t\tElementPerk.#__vault.get(unit)[\"overlayPromise\"].then(() => {\n\t\t\t\tElementPerk.#__vault.get(unit)[\"overlayPromise\"] = new Promise((resolve, reject) => {\n\t\t\t\t\toverlay.addEventListener(`${effect}end`, () => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, {\"once\":true});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\telse\n\t\t{\n\t\t\teffect = Promise.resolve();\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Hide overlay.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__hideOverlay(unit, options)\n\t{\n\n\t\tlet overlay = ElementPerk.#__vault.get(unit)[\"overlay\"];\n\n\t\tElementPerk.#__vault.get(unit)[\"overlayPromise\"].then(() => {\n\t\t\twindow.getComputedStyle(overlay).getPropertyValue(\"visibility\"); // Recalc styles\n\n\t\t\tlet removeClasses = [\"show\"].concat(Util.safeGet(options, \"removeClasses\", []));\n\t\t\toverlay.classList.remove(...removeClasses);\n\t\t\toverlay.classList.add(...Util.safeGet(options, \"addClasses\", []));\n\t\t});\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tResource Perk class\n// =============================================================================\n\nexport default class ResourcePerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"resource\",\n\t\t\"order\":\t\t\t300,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn ResourcePerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"resource.resources\", {});\n\t\tunit.upgrade(\"spell\", \"resource.addHandler\", ResourcePerk.#_addHandler);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":ResourcePerk.#ResourcePerk_onDoApplySettings, \"order\":ResourcePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doFetch\", {\"handler\":ResourcePerk.#ResourcePerk_onDoFetch, \"order\":ResourcePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doSubmit\", {\"handler\":ResourcePerk.#ResourcePerk_onDoSubmit, \"order\":ResourcePerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #ResourcePerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet promises = [];\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.resource.handlers\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tpromises.push(ResourcePerk.#_addHandler(this, sectionName, sectionValue));\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #ResourcePerk_onDoFetch(sender, e, ex)\n\t{\n\n\t\tlet promises = [];\n\n\t\tObject.keys(this.get(\"inventory\", \"resource.resources\")).forEach((resourceName) => {\n\t\t\tlet resource = this.get(\"inventory\", `resource.resources.${resourceName}`);\n\t\t\tif (resource.options.get(\"autoFetch\", true))\n\t\t\t{\n\t\t\t\tresource.target[\"id\"] = Util.safeGet(e.detail, \"id\", resource.target[\"id\"]);\n\t\t\t\tresource.target[\"parameters\"] = Util.safeGet(e.detail, \"parameters\", resource.target[\"parameters\"]);\n\n\t\t\t\tpromises.push(resource.load(resource.target[\"id\"], resource.target[\"parameters\"]).then(() => {\n\t\t\t\t\te.detail.items = resource.items;\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #ResourcePerk_onDoSubmit(sender, e, ex)\n\t{\n\n\t\tlet promises = [];\n\t\tlet submitItem = Util.safeGet(e.detail, \"items\");\n\n\t\tObject.keys(this.get(\"inventory\", \"resource.resources\")).forEach((resourceName) => {\n\t\t\tlet resource = this.get(\"inventory\", `resource.resources.${resourceName}`);\n\t\t\tif (resource.options.get(\"autoSubmit\", true)) {\n\t\t\t\tlet method = Util.safeGet(e.detail, \"method\", resource.target[\"method\"] || \"update\"); // Default is \"update\"\n\t\t\t\tlet id = Util.safeGet(e.detail, \"id\", resource.target[\"id\"]);\n\t\t\t\tlet parameters = Util.safeGet(e.detail, \"parameters\", resource.target[\"parameters\"]);\n\n\t\t\t\tpromises.push(this.get(\"inventory\", `resource.resources.${resourceName}`)[method](id, submitItem, parameters));\n\t\t\t}\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Add resource.\n     *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n     * @param\t{string}\t\thandlerName\t\t\tResource handler name.\n     * @param\t{array}\t\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n     */\n\tstatic #_addHandler(unit, handlerName, options)\n\t{\n\n\t\tUtil.assert(options[\"handlerClassName\"], () => `ResourcePerk.#_addHandler(): handler class name not specified. name=${unit.tagName}, handlerName=${handlerName}`);\n\n\t\tlet promise = Promise.resolve();\n\t\tlet handler = unit.get(\"inventory\", `resource.resources.${handlerName}`);\n\n\t\tif (!handler)\n\t\t{\n\t\t\thandler = this.createHandler(options[\"handlerClassName\"], unit, handlerName, options);\n\t\t\tunit.set(\"inventory\", `resource.resources.${handlerName}`, handler);\n\n\t\t\tpromise = handler.init(options);\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tValidation Perk Class\n// =============================================================================\n\nexport default class ValidationPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"validation\",\n\t\t\"order\":\t\t\t310,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn ValidationPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"validation.validators\", {});\n\t\tunit.upgrade(\"inventory\", \"validation.validationResult\", {});\n\t\tunit.upgrade(\"spell\", \"validation.addHandler\", ValidationPerk.#_addHandler);\n\t\tunit.upgrade(\"spell\", \"validation.validate\", ValidationPerk.#_validate);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":ValidationPerk.ValidationPerk_onDoApplySettings, \"order\":ValidationPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doValidate\", {\"handler\":ValidationPerk.ValidationPerk_onDoValidate, \"order\":ValidationPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doReportValidity\", {\"handler\":ValidationPerk.ValidationPerk_onDoReportValidity, \"order\":ValidationPerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic ValidationPerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet promises = [];\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.validation.handlers\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tpromises.push(ValidationPerk.#_addHandler(this, sectionName, sectionValue));\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic ValidationPerk_onDoValidate(sender, e, ex)\n\t{\n\n\t\tlet validatorName = e.detail.validatorName;\n\t\tif (validatorName)\n\t\t{\n\t\t\tUtil.assert(this.get(\"inventory\", `validation.validators.${validatorName}`), () => `ValidationPerk.ValidationPerk_onDoValidate(): Validator not found. name=${this.tagName}, validatorName=${validatorName}`);\n\n\t\t\tlet items = Util.safeGet(e.detail, \"items\");\n\t\t\tlet rules = this.get(\"setting\", `validation.handlers.${validatorName}.rules`);\n\t\t\tlet options = this.get(\"setting\", `validation.handlers.${validatorName}.handlerOptions`);\n\n\t\t\tthis.get(\"inventory\", `validation.validators.${validatorName}`).checkValidity(items, rules, options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic ValidationPerk_onDoReportValidity(sender, e, ex)\n\t{\n\n\t\tlet validatorName = e.detail.validatorName;\n\t\tif (validatorName)\n\t\t{\n\t\t\tUtil.assert(this.get(\"inventory\", () => `validation.validators.${validatorName}`), `ValidationPerk.ValidationPerk_onDoReportValidity(): Validator not found. name=${this.tagName}, validatorName=${validatorName}`);\n\n\t\t\tlet items = Util.safeGet(e.detail, \"items\");\n\t\t\tlet rules = this.get(\"setting\", `validation.handlers.${validatorName}.rules`);\n\t\t\tlet options = this.get(\"setting\", `validation.handlers.${validatorName}.handlerOptions`);\n\n\t\t\tthis.get(\"inventory\", `validation.validators.${validatorName}`).reportValidity(items, rules, options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Spells (unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Add the validator.\n     *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n     * @param\t{string}\t\thandlerName\t\t\tValidation handler name.\n     * @param\t{array}\t\t\toptions\t\t\t\tOptions.\n     */\n\tstatic #_addHandler(unit, handlerName, options)\n\t{\n\n\t\tlet promise = Promise.resolve();\n\t\tlet handler = unit.get(\"inventory\", `validation.validators.${handlerName}`);\n\n\t\tif (options[\"handlerClassName\"] && !handler)\n\t\t{\n\t\t\thandler = this.createHandler(options[\"handlerClassName\"], unit, handlerName, options);\n\t\t\tunit.set(\"inventory\", `validation.validators.${handlerName}`, handler);\n\n\t\t\tpromise = handler.init(options);\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Validate the form.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic #_validate(unit, options)\n\t{\n\n\t\toptions = options || {};\n\t\tunit.set(\"inventory\", \"validation.validationResult.result\", true);\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\tconsole.debug(`ValidationPerk._validate(): Validating unit. name=${unit.tagName}, id=${unit.uniqueId}`);\n\t\t\treturn unit.cast(\"event.trigger\", \"beforeValidate\", options);\n\t\t}).then(() => {\n\t\t\treturn unit.cast(\"event.trigger\", \"doValidate\", options);\n\t\t}).then(() => {\n\t\t\tif (unit.get(\"inventory\", \"validation.validationResult.result\"))\n\t\t\t{\n\t\t\t\tconsole.debug(`ValidationPerk._validate(): Validation Success. name=${unit.tagName}, id=${unit.uniqueId}`);\n\t\t\t\treturn unit.cast(\"event.trigger\", \"doValidateSuccess\", options);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconsole.debug(`ValidationPerk._validate(): Validation Failed. name=${unit.tagName}, id=${unit.uniqueId}`);\n\t\t\t\treturn unit.cast(\"event.trigger\", \"doValidateFail\", options);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tif (!unit.get(\"inventory\", \"validation.validationResult.result\"))\n\t\t\t{\n\t\t\t\treturn unit.cast(\"event.trigger\", \"doReportValidity\", options);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn unit.cast(\"event.trigger\", \"afterValidate\", options);\n\t\t});\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport FormUtil from \"../util/form-util.js\";\nimport ValueUtil from \"../util/value-util.js\";\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tForm Perk Class\n// =============================================================================\n\nexport default class FormPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"form\",\n\t\t\"order\":\t\t\t310,\n\t\t\"depends\":\t\t\t\"ValidationPerk\",\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn FormPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tFormPerk.#__vault.set(unit, {\n\t\t\t\"lastItems\":\t{},\n\t\t});\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"form.cancelSubmit\", false);\n\t\tunit.upgrade(\"skill\", \"form.build\", FormPerk.#_build);\n\t\tunit.upgrade(\"spell\", \"form.submit\", FormPerk.#_submit);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"afterTransform\", {\"handler\":FormPerk.#FormPerk_onAfterTransform, \"order\":FormPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doClear\", {\"handler\":FormPerk.#FormPerk_onDoClear, \"order\":FormPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"beforeFill\", {\"handler\":FormPerk.#FormPerk_onBeforeFill, \"order\":FormPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doFill\", {\"handler\":FormPerk.#FormPerk_onDoFill, \"order\":FormPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doCollect\", {\"handler\":FormPerk.#FormPerk_onDoCollect, \"order\":FormPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"afterCollect\", {\"handler\":FormPerk.#FormPerk_onAfterCollect, \"order\":FormPerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #FormPerk_onAfterTransform(sender, e, ex)\n\t{\n\n\t\tFormUtil.hideConditionalElements(this);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #FormPerk_onDoClear(sender, e, ex)\n\t{\n\n\t\tif (this.get(\"setting\", \"form.options.autoClear\", true))\n\t\t{\n\t\t\tlet target = Util.safeGet(e.detail, \"target\", \"\");\n\t\t\tlet options = Object.assign({\"target\":target, \"triggerEvent\":\"change\"}, e.detail.options);\n\n\t\t\tValueUtil.clearFields(this, options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #FormPerk_onBeforeFill(sender, e, ex)\n\t{\n\n\t\tif (e.detail.refill)\n\t\t{\n\t\t\te.detail.items = FormPerk.#__vault.get(this)[\"lastItems\"];\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #FormPerk_onDoFill(sender, e, ex)\n\t{\n\n\t\tif (this.get(\"setting\", \"form.options.autoFill\", true))\n\t\t{\n\t\t\tlet rootNode = ( e.detail && \"selector\" in e.detail ? Util.scopedSelectorAll(this, e.detail.rootNode)[0] : this );\n\t\t\tValueUtil.setFields(rootNode, e.detail.items, {\"resources\":this.get(\"inventory\", \"resource.resources\"), \"triggerEvent\":true});\n\t\t\tFormUtil.showConditionalElements(this, e.detail.items);\n\t\t}\n\n\t\tFormPerk.#__vault.get(this)[\"lastItems\"] = e.detail.items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #FormPerk_onDoCollect(sender, e, ex)\n\t{\n\n\t\tif (this.get(\"setting\", \"form.options.autoCollect\", true))\n\t\t{\n\t\t\te.detail.items = ValueUtil.getFields(this);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #FormPerk_onAfterCollect(sender, e, ex)\n\t{\n\n\t\t// Collect only submittable data\n\t\tif (this.get(\"setting\", \"form.options.autoCrop\", true))\n\t\t{\n\t\t\te.detail.items = FormPerk.#__collectData(this, e.detail.items);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t *\n\t * Build the element.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{HTMLElement}\telement\t\t\t\tHTMLElement to build.\n\t * @param\t{Object}\t\titems\t\t\t\tItems to fill elements.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #_build(unit, element, items, options)\n\t{\n\n\t\tFormUtil.build(element, items, options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Spells (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Submit the form.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #_submit(unit, options)\n\t{\n\n\t\toptions = options || {};\n\t\tunit.set(\"inventory\", \"form.cancelSubmit\", false);\n\n\t\t// Collect values\n\t\tawait FormPerk.#__collect(unit, options);\n\n\t\t// Validate values\n\t\tif (unit.get(\"setting\", \"form.options.autoValidate\", true))\n\t\t{\n\t\t\toptions[\"validatorName\"] = options[\"validatorName\"] || unit.get(\"setting\", \"form.options.validatorName\");\n\t\t\tawait unit.cast(\"validation.validate\", options);\n\t\t\tif (!unit.get(\"inventory\", \"validation.validationResult.result\"))\n\t\t\t{\n\t\t\t\tunit.set(\"inventory\", \"form.cancelSubmit\", true);\n\t\t\t}\n\t\t}\n\t\t// Submit values\n\t\tconsole.debug(`FormPerk.#_submit(): Submitting unit. name=${unit.tagName}, id=${unit.id}`);\n\t\tawait unit.cast(\"event.trigger\", \"beforeSubmit\", options);\n\t\tif (!unit.get(\"inventory\", \"form.cancelSubmit\"))\n\t\t{\n\t\t\tawait unit.cast(\"event.trigger\", \"doSubmit\", options);\n\t\t\tconsole.debug(`FormPerk.#_submit(): Submitted unit. name=${unit.tagName}, id=${unit.id}`);\n\t\t\tawait unit.cast(\"event.trigger\", \"afterSubmit\", options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Collect data from the form.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #__collect(unit, options)\n\t{\n\n\t\tconsole.debug(`FormPerk.#__collect(): Collecting data. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\tawait unit.cast(\"event.trigger\", \"beforeCollect\", options);\n\t\tawait unit.cast(\"event.trigger\", \"doCollect\", options);\n\t\tconsole.debug(`FormPerk.#__collect(): Collected data. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\tawait unit.cast(\"event.trigger\", \"afterCollect\", options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Collect submittable data.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\titems\t\t\t\tData to submit.\n\t *\n\t * @return  {Object}\t\tCollected data.\n\t */\n\tstatic #__collectData(unit, items)\n\t{\n\n\t\tlet submitItem = {};\n\n\t\t// Collect values only from nodes that has [bm-submit] attribute.\n\t\tlet nodes = Util.scopedSelectorAll(unit, \"[bm-submit]\");\n\t\tnodes = Array.prototype.slice.call(nodes, 0);\n\t\tnodes.forEach((elem) => {\n\t\t\tlet key = elem.getAttribute(\"bm-bind\");\n\t\t\tsubmitItem[key] = items[key];\n\t\t});\n\n\t\treturn submitItem;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport FormUtil from \"../util/form-util.js\";\nimport ValueUtil from \"../util/value-util.js\";\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tList Perk Class\n// =============================================================================\n\nexport default class ListPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"list\",\n\t\t\"order\":\t\t\t310,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn ListPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tListPerk.#__vault.set(unit, {\n\t\t\t\"lastItems\":\t{},\n\t\t\t\"listRootNode\":\tnull,\n\t\t});\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"list.active.skinName\", \"\");\n\t\tunit.upgrade(\"skill\", \"list.get\", ListPerk.#_getItems);\n\t\tunit.upgrade(\"skill\", \"list.update\", ListPerk.#_updateRow);\n\t\tunit.upgrade(\"skill\", \"list.add\", ListPerk.#_addRow);\n\t\tunit.upgrade(\"spell\", \"list.transformRow\", ListPerk.#_transformRow);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"afterTransform\", {\"handler\":ListPerk.#ListPerk_onAfterTransform, \"order\":ListPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doClear\", {\"handler\":ListPerk.#ListPerk_onDoClear, \"order\":ListPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"beforeFill\", {\"handler\":ListPerk.#ListPerk_onBeforeFill, \"order\":ListPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doFill\", {\"handler\":ListPerk.#ListPerk_onDoFill, \"order\":ListPerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #ListPerk_onAfterTransform(sender, e, ex)\n\t{\n\n\t\tlet rootNode = this.get(\"setting\", \"list.options.listRootNode\");\n\t\tlet unitRoot = this.get(\"inventory\", \"basic.unitRoot\");\n\t\tListPerk.#__vault.get(this)[\"listRootNode\"] = ( rootNode ? Util.scopedSelectorAll(unitRoot, rootNode)[0] : unitRoot );\n\t\tUtil.assert(ListPerk.#__vault.get(this)[\"listRootNode\"], () => `List.ListPerk_onAfterTransform(): List root node not found. name=${this.tagName}, listRootNode=${this.get(\"setting\", \"setting.listRootNode\")}`);\n\n\t\treturn ListPerk.#_transformRow(this, this.get(\"setting\", \"list.options.rowSkinName\", \"row\"));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #ListPerk_onDoClear(sender, e, ex)\n\t{\n\n\t\tListPerk.#__vault.get(this)[\"listRootNode\"].innerHTML = \"\";\n\t\tthis.set(\"inventory\", \"list.rows\", []);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #ListPerk_onBeforeFill(sender, e, ex)\n\t{\n\n\t\tif (e.detail.refill)\n\t\t{\n\t\t\te.detail.items = ListPerk.#__vault.get(this)[\"lastItems\"];\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic async #ListPerk_onDoFill(sender, e, ex)\n\t{\n\n\t\tlet builder = ( Util.safeGet(e.detail.options, \"async\", this.get(\"setting\", \"list.options.async\", true)) ? ListPerk.#__buildAsync : ListPerk.#__buildSync );\n\t\tlet fragment = document.createDocumentFragment();\n\t\tthis.set(\"inventory\", \"list.rows\", []);\n\n\t\tawait this.cast(\"event.trigger\", \"beforeBuildRows\");\n\n\t\tawait builder(this, fragment, e.detail.items, e.detail);\n\t\tListPerk.#__vault.get(this)[\"listRootNode\"].replaceChildren(fragment);\n\t\tListPerk.#__vault.get(this)[\"lastItems\"] = e.detail.items;\n\n\t\tawait this.cast(\"event.trigger\", \"afterBuildRows\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Units)\n\t// -------------------------------------------------------------------------\n\n\tstatic #_addRow(unit, items, options)\n\t{\n\n\t\tlet builder = (unit.get(\"setting\", \"list.options.async\", true) ? ListPerk.#__buildAsync : ListPerk.#__buildSync);\n\t\tbuilder(unit, ListPerk.#__vault.get(unit)[\"listRootNode\"], items, options);\n\t\t/*\n\t\tlet activeRowSkinName = unit.get(\"inventory\", \"list.active.skinName\");\n\t\tlet skinInfo = unit.get(\"inventory\", \"skin.skins\");\n\t\tlet skin = skinInfo[activeRowSkinName].HTML;\n\t\tlet rowEvents = unit.get(\"setting\", \"list.rowevents\");\n\n\t\t// Install row element event handlers\n\t\tif (rowEvents)\n\t\t{\n\t\t\tObject.keys(rowEvents).forEach((elementName) => {\n\t\t\t\tunit.use(\"event.init\", elementName, rowEvents[elementName], element);\n\t\t\t});\n\t\t}\n\n\t\t// Call event handlers\n\t\tunit.use(\"event.triggerSync\", \"beforeFillRow\", options);\n\t\tFormUtil.showConditionalElements(element, options[\"item\"]);\n\t\tif (unit.get(\"setting\", \"list.options.autoFill\", true))\n\t\t{\n\t\t\tValueUtil.setFields(element, options[\"item\"], {\"resources\":unit.get(\"inventory\", \"resource.resources\")});\n\t\t}\n\t\tunit.use(\"event.triggerSync\", \"doFillRow\", options);\n\t\tunit.use(\"event.triggerSync\", \"afterFillRow\", options);\n\n\t\tlet element = ListPerk.#__createRow(skin);\n//\t\tthis._listRootNode.appendChild(element);\n\t\tListPerk.#__vault.get(unit)[\"listRootNode\"].appendChild(element);\n\t\t*/\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic async #_updateRow(unit, index, item)\n\t{\n\n\t\tlet options = {\n\t\t\t\"no\":\t\tindex,\n\t\t\t\"item\":\t\titem,\n\t\t};\n\t\tlet rows = unit.get(\"inventory\", \"list.rows\");\n\t\tlet element = rows[index];\n\n\t\tif (unit.get(\"setting\", \"list.options.async\", true))\n\t\t{\n\t\t\t// Async\n\t\t\tawait unit.cast(\"event.trigger\", \"beforeFillRow\", options);\n\t\t\tFormUtil.showConditionalElements(element, item);\n\t\t\tif (unit.get(\"setting\", \"list.options.autoFill\", true))\n\t\t\t{\n\t\t\t\tValueUtil.setFields(element, item, {\"resources\":unit.get(\"inventory\", \"inventory\", \"resource.resources\")});\n\t\t\t}\n\t\t\tawait unit.cast(\"event.trigger\", \"doFillRow\", options);\n\t\t\tawait unit.cast(\"event.trigger\", \"afterFillRow\", options);\n\t\t} else {\n\t\t\t// Sync\n\t\t\tunit.use(\"event.triggerSync\", \"beforeFillRow\", options);\n\t\t\tFormUtil.showConditionalElements(element, item);\n\t\t\tif (unit.get(\"setting\", \"list.options.autoFill\", true))\n\t\t\t{\n\t\t\t\tValueUtil.setFields(element, item, {\"resources\":unit.get(\"inventory\", \"resource.resources\")});\n\t\t\t}\n\t\t\tunit.use(\"event.triggerSync\", \"doFillRow\", options);\n\t\t\tunit.use(\"event.triggerSync\", \"afterFillRow\", options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #_getItems(unit, options)\n\t{\n\n\t\tlet items = [];\n\t\tlet rows = unit.get(\"inventory\", \"list.rows\");\n\t\tlet shaper = (options && options[\"shaper\"]) || ((item) => {return item});\n\n\t\tfor (let i = 0; i < rows.length; i++)\n\t\t{\n\t\t\tlet item = ValueUtil.getFields(rows[i]);\n\t\t\tshaper(item);\n\t\t\titems.push(item);\n\t\t}\n\n\t\treturn items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Spells (Units)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Change the row skin.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tskinName\t\t\tSkin name.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #_transformRow(unit, skinName, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\tif (unit.get(\"inventory\", \"list.active.skinName\") === skinName)\n\t\t{\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconsole.debug(`ListPerk.#_transformRow(): Switching the row skin. name=${unit.tagName}, rowSkinName=${skinName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\tawait unit.cast(\"skin.summon\", skinName);\n\t\tunit.set(\"inventory\", \"list.active.skinName\", skinName);\n\t\tawait unit.cast(\"event.trigger\", \"afterTransformRow\", options);\n\t\tconsole.debug(`ListPerk.#_transformRow(): Switched the row skin. name=${unit.tagName}, rowSkinName=${skinName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Private\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Build rows synchronously.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{DocumentFragment}\tfragment\t\tDocument fragment.\n\t * @param\t{Object}\t\titems\t\t\t\tItems.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic #__buildSync(unit, fragment, items, options)\n\t{\n\n\t\tlet skinInfo = unit.get(\"inventory\", \"skin.skins\");\n\t\tlet activeRowSkinName = unit.get(\"inventory\", \"list.active.skinName\");\n\t\tlet rows = unit.get(\"inventory\", \"list.rows\", []);\n\n\t\tUtil.assert(skinInfo[activeRowSkinName], () => `List.#__buildSync(): Row skin not loaded yet. name=${unit.tagName}, rowSkinName=${activeRowSkinName}`);\n\n\t\tlet rowEvents = unit.get(\"setting\", \"list.rowevents\");\n\t\tlet skin = skinInfo[activeRowSkinName].HTML;\n\n\t\tlet chain = Promise.resolve();\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\tchain = chain.then(async () => {\n\t\t\t\toptions[\"no\"] = i;\n\t\t\t\toptions[\"item\"] = items[i];\n\n\t\t\t\t// Append a row\n\t\t\t\tlet element = ListPerk.#__createRow(skin);\n\t\t\t\tfragment.appendChild(element);\n\t\t\t\toptions[\"element\"] = element;\n\t\t\t\trows.push(element);\n\n\t\t\t\t// Install row element event handlers\n\t\t\t\tif (rowEvents)\n\t\t\t\t{\n\t\t\t\t\tObject.keys(rowEvents).forEach((elementName) => {\n\t\t\t\t\t\tunit.use(\"event.init\", elementName, rowEvents[elementName], element);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tawait unit.cast(\"event.trigger\", \"beforeFillRow\", options);\n\t\t\t\tif (unit.get(\"setting\", \"list.options.autoFill\", true))\n\t\t\t\t{\n\t\t\t\t\t// Fill fields\n\t\t\t\t\tFormUtil.showConditionalElements(element, options[\"item\"]);\n\t\t\t\t\tValueUtil.setFields(element, options[\"item\"], {\"resources\":unit.get(\"inventory\", \"inventory\", \"resource.resources\")});\n\t\t\t\t}\n\t\t\t\tawait unit.cast(\"event.trigger\", \"doFillRow\", options);\n\t\t\t\tawait unit.cast(\"event.trigger\", \"afterFillRow\", options);\n\t\t\t});\n\t\t}\n\n\n\t\treturn chain.then(() => {\n\t\t\tunit.set(\"inventory\", \"list.rows\", rows);\n\n\t\t\tdelete options[\"no\"];\n\t\t\tdelete options[\"item\"];\n\t\t\tdelete options[\"element\"];\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Build rows asynchronously.\n\t *\n\t * @param\t{DocumentFragment}\tfragment\t\tDocument fragment.\n\t */\n\tstatic #__buildAsync(unit, fragment, items, options)\n\t{\n\n\t\toptions = options || {};\n\t\titems = items || [];\n\t\tlet skinInfo = unit.get(\"inventory\", \"skin.skins\");\n\t\tlet activeRowSkinName = unit.get(\"inventory\", \"list.active.skinName\");\n\t\tlet rows = unit.get(\"inventory\", \"list.rows\", []);\n\n\t\tUtil.assert(skinInfo[activeRowSkinName], () => `List.#__buildAsync(): Row skin not loaded yet. name=${unit.tagName}, rowSkinName=${activeRowSkinName}`);\n\n\t\tlet rowEvents = unit.get(\"setting\", \"list.rowevents\");\n\t\tlet skin = skinInfo[activeRowSkinName].HTML;\n\n\t\tfor (let i = 0; i < items.length; i++)\n\t\t{\n\t\t\toptions[\"no\"] = i;\n\t\t\toptions[\"item\"] = items[i];\n\n\t\t\t// Append a row\n\t\t\tlet element = ListPerk.#__createRow(skin);\n\t\t\tfragment.appendChild(element);\n\t\t\toptions[\"element\"] = element;\n\t\t\trows.push(element);\n\n\t\t\t// Install row element event handlers\n\t\t\tif (rowEvents)\n\t\t\t{\n\t\t\t\tObject.keys(rowEvents).forEach((elementName) => {\n\t\t\t\t\tunit.use(\"event.init\", elementName, rowEvents[elementName], element);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Call event handlers\n\t\t\tunit.use(\"event.triggerSync\", \"beforeFillRow\", options);\n\t\t\tFormUtil.showConditionalElements(element, options[\"item\"]);\n\t\t\tif (unit.get(\"setting\", \"list.options.autoFill\", true))\n\t\t\t{\n\t\t\t\tValueUtil.setFields(element, options[\"item\"], {\"resources\":unit.get(\"inventory\", \"resource.resources\")});\n\t\t\t}\n\t\t\tunit.use(\"event.triggerSync\", \"doFillRow\", options);\n\t\t\tunit.use(\"event.triggerSync\", \"afterFillRow\", options);\n\t\t}\n\n\t\tunit.set(\"inventory\", \"list.rows\", rows);\n\n\t\tdelete options[\"no\"];\n\t\tdelete options[\"item\"];\n\t\tdelete options[\"element\"];\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create a row element.\n\t *\n\t * @param\t{String}\t\tskin\t\t\t\t\tSkin.\n\t *\n\t * @return  {HTMLElement}\tRow element.\n\t */\n\tstatic #__createRow(skin)\n\t{\n\n\t\tlet ele = document.createElement(\"tbody\");\n\t\tele.innerHTML = skin;\n\t\tlet element = ele.firstElementChild;\n\t\telement.setAttribute(\"bm-powered\", \"\");\n\n\t\treturn element;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Collect submittable data.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {Object}\t\tCollected data.\n\t */\n\tstatic #__collectData(unit)\n\t{\n\n\t\tlet item = {};\n\n\t\tlet nodes = Util.scopedSelectorAll(unit, \"[bm-bind]\");\n\t\tnodes = Array.prototype.slice.call(nodes, 0);\n\t\tnodes.forEach((elem) => {\n\t\t\tlet key = elem.getAttribute(\"bm-bind\");\n\t\t\titem[key] = items[key];\n\t\t});\n\n\t\treturn submitItem;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport BindableArrayStore from \"../store/bindable-array-store.js\";\nimport BindableStore from \"../store/bindable-store.js\";\nimport FormUtil from \"../util/form-util.js\";\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tDatabinding Perk class\n// =============================================================================\n\nexport default class DatabindingPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"databinding\",\n\t\t\"order\":\t\t\t320,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn DatabindingPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\tif (unit.get(\"setting\", \"databinding.options.dataType\", \"single\") === \"single\")\n\t\t{\n\t\t\t// Init unit vault\n\t\t\tDatabindingPerk.#__vault.set(unit, {\"store\": new BindableStore({\n\t\t\t\t\t\"resources\":\tunit.get(\"inventory\", \"resource.resources\"),\n\t\t\t\t\t\"direction\":\tunit.get(\"setting\", \"databinding.options.direction\", \"two-way\"),\n\t\t\t\t})\n\t\t\t});\n\n\t\t\t// Upgrade unit (single)\n\t\t\tunit.upgrade(\"skill\", \"databinding.bindData\", DatabindingPerk.#_bindData);\n\n\t\t\t// Add event handlers\n\t\t\tunit.use(\"event.add\", \"beforeTransform\", {\"handler\":DatabindingPerk.#DatabindingPerk_onBeforeTransform, \"order\":DatabindingPerk.info[\"order\"]});\n\t\t\tunit.use(\"event.add\", \"doFill\", {\"handler\":DatabindingPerk.#DatabindingPerk_onDoFill, \"order\":DatabindingPerk.info[\"order\"]});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Init unit vault\n\t\t\tDatabindingPerk.#__vault.set(unit, {\"store\": new BindableArrayStore({\n\t\t\t\t\t\"resources\":\tunit.get(\"inventory\", \"resource.resources\"),\n\t\t\t\t\t\"direction\":\tunit.get(\"setting\", \"databinding.options.direction\", \"two-way\"),\n\t\t\t\t})\n\t\t\t});\n\n\t\t\t// Upgrade unit (multiple)\n\t\t\tunit.upgrade(\"skill\", \"databinding.bindData\", DatabindingPerk.#_bindDataArray);\n\n\t\t\t// Add event handlers\n\t\t\tunit.use(\"event.add\", \"doFillRow\", {\"handler\":DatabindingPerk.#DatabindingPerk_onDoFillRow, \"order\":DatabindingPerk.info[\"order\"]});\n\t\t}\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doClear\", {\"handler\":DatabindingPerk.#DatabindingPerk_onDoClear, \"order\":DatabindingPerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doCollect\", {\"handler\":DatabindingPerk.#DatabindingPerk_onDoCollect, \"order\":DatabindingPerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #DatabindingPerk_onBeforeTransform(sender, e, ex)\n\t{\n\n\t\tDatabindingPerk.#_bindData(this);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #DatabindingPerk_onDoClear(sender, e, ex)\n\t{\n\n\t\tDatabindingPerk.#__vault.get(this)[\"store\"].clear();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #DatabindingPerk_onDoFill(sender, e, ex)\n\t{\n\n\t\tif (e.detail.items)\n\t\t{\n\t\t\tDatabindingPerk.#__vault.get(this)[\"store\"].replace(e.detail.items);\n\t\t\tFormUtil.showConditionalElements(this, e.detail.items);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #DatabindingPerk_onDoFillRow(sender, e, ex)\n\t{\n\n\t\tDatabindingPerk.#_bindDataArray(this, e.detail.no, e.detail.element, e.detail.callbacks);\n\t\tDatabindingPerk.#__vault.get(this)[\"store\"].replace(e.detail.no, e.detail.item);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #DatabindingPerk_onDoCollect(sender, e, ex)\n\t{\n\n\t\tif (this.get(\"setting\", \"databinding.options.autoCollect\", true))\n\t\t{\n\t\t\te.detail.items = DatabindingPerk.#__vault.get(this)[\"store\"].items;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Bind data and elements.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node.\n\t */\n\tstatic #_bindData(unit, rootNode)\n\t{\n\n\t\trootNode = ( rootNode ? rootNode : unit );\n\n\t\tlet nodes = Util.scopedSelectorAll(rootNode, \"[bm-bind]\");\n\t\tnodes = Array.prototype.slice.call(nodes, 0);\n\t\tif (rootNode.matches(\"[bm-bind]\"))\n\t\t{\n\t\t\tnodes.push(rootNode);\n\t\t}\n\n\t\tnodes.forEach(elem => {\n\t\t\t// Get the callback function from settings\n\t\t\tlet key = elem.getAttribute(\"bm-bind\");\n\t\t\tlet callback = DatabindingPerk.#__getCallback(unit, key);\n\n\t\t\t// Bind\n\t\t\tDatabindingPerk.#__vault.get(unit)[\"store\"].bindTo(key, elem, callback);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Bind array data and elements.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Integer}\t\tindex\t\t\t\tArray index.\n\t * @param\t{HTMLElement}\trootNode\t\t\tRoot node.\n\t */\n\tstatic #_bindDataArray(unit, index, rootNode)\n\t{\n\n\t\trootNode = ( rootNode ? rootNode : unit );\n\n\t\tlet nodes = Util.scopedSelectorAll(rootNode, \"[bm-bind]\");\n\t\tnodes = Array.prototype.slice.call(nodes, 0);\n\t\tif (rootNode.matches(\"[bm-bind]\"))\n\t\t{\n\t\t\tnodes.push(rootNode);\n\t\t}\n\n\t\tnodes.forEach(elem => {\n\t\t\t// Get the callback function from settings\n\t\t\tlet key = elem.getAttribute(\"bm-bind\");\n\t\t\tlet callback = DatabindingPerk.#__getCallback(unit, key);\n\n\t\t\t// Bind\n\t\t\tDatabindingPerk.#__vault.get(unit)[\"store\"].bindTo(index, key, elem, callback);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the callback function from settings.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tkey\t\t\t\t\tField name.\n\t */\n\tstatic #__getCallback(unit, key)\n\t{\n\n\t\tlet callback;\n\n\t\tObject.entries(unit.get(\"setting\", \"databinding\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tif (sectionValue[\"callback\"])\n\t\t\t{\n\t\t\t\tconst pattern = sectionValue[\"key\"] || sectionName;\n\t\t\t\tconst r = new RegExp(pattern);\n\t\t\t\tif (r.test(key))\n\t\t\t\t{\n\t\t\t\t\tcallback = sectionValue[\"callback\"];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn callback;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ObservableStore from \"../store/observable-store.js\";\nimport {Unit} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tLocale Server Class\n// =============================================================================\n\nexport default class LocaleServer extends Unit\n{\n\n\t// -------------------------------------------------------------------------\n\t//\tSettings\n\t// -------------------------------------------------------------------------\n\n\t_getSettings()\n\t{\n\n\t\treturn {\n\t\t\t\"basic\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"autoRefresh\":\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"event\": {\n\t\t\t\t\"events\": {\n\t\t\t\t\t\"this\": {\n\t\t\t\t\t\t\"handlers\": {\n\t\t\t\t\t\t\t\"beforeStart\":\t\t\t[\"LocaleServer_onBeforeStart\"],\n\t\t\t\t\t\t\t\"doApplyLocale\":\t\t[\"LocaleServer_onDoApplyLocale\"],\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"locale\": {\n\t\t\t\t\"handlers\": {\n\t\t\t\t\t\"default\": {\n\t\t\t\t\t\t\"handlerClassName\":\t\t\t\"LocaleHandler\",\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"skin\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasSkin\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"style\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasStyle\":\t\t\t\t\tfalse,\n\t\t\t\t\t\"styleRef\":\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tLocaleServer_onBeforeStart(sender, e, ex)\n\t{\n\n\t\tthis._store = new ObservableStore({\"async\":true});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tLocaleServer_onDoApplyLocale(sender, e, ex)\n\t{\n\n\t\t// Set locale attribute\n\t\tif (this.get(\"setting\", \"options.autoAttribute\"))\n\t\t{\n\t\t\tlet rootNode = this.get(\"setting\", \"options.autoAttribute.rootNode\");\n\t\t\tlet targetElement = ( rootNode ? document.querySelector(rootNode) : document.body );\n\t\t\tlet attribName = this.get(\"setting\", \"options.autoAttribute.attributeName\", \"data-locale\");\n\n\t\t\ttargetElement.setAttribute(attribName, this.get(\"inventory\", \"locale.active.localeName\"));\n\t\t}\n\n\t\t// Notify locale change to clients\n\t\treturn this._store.notify(\"*\", e.detail);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Subscribe to the Server. Get a notification when prefrence changed.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tsubscribe(unit, options)\n\t{\n\n\t\tthis._store.subscribe(\n\t\t\t`${unit.tagName}_${unit.uniqueId}`,\n\t\t\tthis.#__triggerEvent.bind(unit),\n\t\t);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Trigger preference changed events.\n\t *\n\t * @param\t{String}\t\tconditions\t\t\tNotify conditions.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t#__triggerEvent(conditions, observerInfo, options)\n\t{\n\n\t\treturn this.cast(\"locale.apply\", {\"localeName\":options.localeName});\n\n\t}\n\n}\n\ncustomElements.define(\"bm-locale\", LocaleServer);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport MultiStore from \"../store/multi-store.js\";\nimport LocaleServer from \"../unit/bm-locale.js\";\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tLocale Perk Class\n// =============================================================================\n\nexport default class LocalePerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"locale\",\n\t\t\"order\":\t\t\t215,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn LocalePerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tLocalePerk.#__vault.set(unit, {\n\t\t\t\"server\":\tnull,\n\t\t});\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"locale.localizers\", {});\n\t\tunit.upgrade(\"inventory\", \"locale.messages\", new MultiStore());\n\t\tunit.upgrade(\"inventory\", \"locale.active\", {\n\t\t\t\"localeName\":\t\t\tunit.get(\"setting\", \"locale.options.localeName\", unit.get(\"setting\", \"system.locale.options.localeName\", navigator.language.substring(0, 2))),\n\t\t\t\"fallbackLocaleName\":\tunit.get(\"setting\", \"locale.options.fallbackLocaleName\", unit.get(\"setting\", \"system.locale.options.fallbackLocaleName\", \"en\")),\n\t\t\t\"currencyName\":\t\t\tunit.get(\"setting\", \"locale.options.currencyName\", unit.get(\"setting\", \"system.locale.options.currencyName\", \"USD\")),\n\t\t});\n\t\tunit.upgrade(\"skill\", \"locale.localize\", LocalePerk.#_localize);\n\t\tunit.upgrade(\"skill\", \"locale.translate\", LocalePerk.#_getLocaleMessage);\n\t\tunit.upgrade(\"spell\", \"locale.apply\", LocalePerk.#_applyLocale);\n\t\tunit.upgrade(\"spell\", \"locale.summon\", LocalePerk.#_loadMessages);\n\t\tunit.upgrade(\"spell\", \"locale.addHandler\", LocalePerk.#_addHandler);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":LocalePerk.#LocalePerk_onDoApplySettings, \"order\":LocalePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doSetup\", {\"handler\":LocalePerk.#LocalePerk_onDoSetup, \"order\":LocalePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"beforeApplyLocale\", {\"handler\":LocalePerk.#LocalePerk_onBeforeApplyLocale, \"order\":LocalePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doApplyLocale\", {\"handler\":LocalePerk.#LocalePerk_onDoApplyLocale, \"order\":LocalePerk.info[\"order\"]});\n\n\t\tif (unit.get(\"setting\", \"locale.options.autoLocalizeRows\"))\n\t\t{\n\t\t\tunit.use(\"event.add\", \"afterFillRow\", {\"handler\":LocalePerk.#LocalePerk_onAfterFillRow, \"order\":LocalePerk.info[\"order\"]});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #LocalePerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet promises = [];\n\n\t\t// Add locale handlers\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.locale.handlers\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tpromises.push(LocalePerk.#_addHandler(this, sectionName, sectionValue));\n\t\t});\n\n\t\t// Connect to the locale server if specified\n\t\tlet serverNode = this.get(\"setting\", \"locale.options.localeServer\", this.get(\"setting\", \"system.locale.options.localeServer\"));\n\t\tserverNode = ( serverNode === true ? \"bm-locale\" : serverNode );\n\n\t\tif (serverNode && !(this instanceof LocaleServer))\n\t\t{\n\t\t\tpromises.push(this.cast(\"status.wait\", [serverNode]).then(() => {\n\t\t\t\tlet server = document.querySelector(serverNode);\n\t\t\t\tserver.subscribe(this);\n\t\t\t\tLocalePerk.#__vault.get(this)[\"server\"] = server;\n\n\t\t\t\t// Synchronize to the server's locales\n\t\t\t\tlet localeSettings = server.get(\"inventory\", \"locale.active\");\n\t\t\t\tthis.set(\"inventory\", \"locale.active.localeName\", localeSettings[\"localeName\"]);\n\t\t\t\tthis.set(\"inventory\", \"locale.active.fallbackLocaleName\", localeSettings[\"fallbackLocaleName\"]);\n\t\t\t\tthis.set(\"inventory\", \"locale.active.currencyName\", localeSettings[\"currencyName\"]);\n\t\t\t}));\n\t\t}\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #LocalePerk_onDoSetup(sender, e, ex)\n\t{\n\n\t\treturn LocalePerk.#_applyLocale(this, {\"localeName\":this.get(\"inventory\", \"locale.active.localeName\")});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #LocalePerk_onBeforeApplyLocale(sender, e, ex)\n\t{\n\n\t\treturn this.cast(\"locale.summon\", e.detail.localeName);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #LocalePerk_onDoApplyLocale(sender, e, ex)\n\t{\n\n\t\t// Localize\n\t\tLocalePerk.#_localize(this, this);\n\n\t\t// Refill (Do not refill when starting)\n\t\tif (this.get(\"inventory\", \"status.status\") === \"ready\")\n\t\t{\n\t\t\treturn this.cast(\"basic.fill\", {\"refill\":true});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #LocalePerk_onAfterFillRow(sender, e, ex)\n\t{\n\n\t\t// Localize a row\n\t\tLocalePerk.#_localize(this, e.detail.element, e.detail.item);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Localize all the bm-locale fields with i18 messages using each handler.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{HTMLElement}\trootNode\t\t\tTarget root node to localize.\n\t * @param\t{Object}\t\tinterpolation\t\tInterpolation parameters.\n\t */\n\tstatic #_localize(unit, rootNode, interpolation)\n\t{\n\n\t\trootNode = rootNode || unit;\n\n\t\tObject.keys(unit.get(\"inventory\", \"locale.localizers\")).forEach((handlerName) => {\n\t\t\tunit.get(\"inventory\", `locale.localizers.${handlerName}`).localize(\n\t\t\t\trootNode,\n\t\t\t\tObject.assign({\"interpolation\":interpolation}, unit.get(\"inventory\", \"locale.active\"))\n\t\t\t);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the locale message.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{String}\t\tlocaleName\t\t\tLocale name.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic #_getLocaleMessage(unit, key, localeName)\n\t{\n\n\t\tlocaleName = localeName || unit.get(\"inventory\", \"locale.active.localeName\");\n\n\t\tlet value = unit.get(\"inventory\", \"locale.messages\").get(`${localeName}.${key}`);\n\t\tif (value === undefined)\n\t\t{\n\t\t\tvalue = unit.get(\"inventory\", \"locale.messages\").get(`${unit.get(\"inventory\", \"locale.fallbackLocaleName\")}.${key}`);\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Add the localizer.\n     *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n     * @param\t{string}\t\thandlerName\t\t\tLocale handler name.\n     * @param\t{array}\t\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n     */\n\tstatic #_addHandler(unit, handlerName, options)\n\t{\n\n\t\tlet promise = Promise.resolve();\n\n\t\tif (!unit.get(\"inventory\", `locale.localizers.${handlerName}`))\n\t\t{\n\t\t\tlet handlerClassName = Util.safeGet(options, \"handlerClassName\", \"LocaleHandler\");\n\t\t\tlet handler = this.createHandler(handlerClassName, unit, options);\n\t\t\tunit.set(\"inventory\", `locale.localizers.${handlerName}`, handler);\n\n\t\t\tpromise = handler.init(options);\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply locale.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic async #_applyLocale(unit, options)\n\t{\n\n\t\tconsole.debug(`LocalePerk.#_applyLocale(): Applying locale. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}, localeName=${options[\"localeName\"]}`);\n\t\tawait unit.cast(\"event.trigger\", \"beforeApplyLocale\", options);\n\t\tunit.set(\"inventory\", \"locale.active.localeName\", options[\"localeName\"]);\n\t\tawait unit.cast(\"event.trigger\", \"doApplyLocale\", options);\n\t\tconsole.debug(`LocalePerk.#_applyLocale(): Applied locale. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}, localeName=${options[\"localeName\"]}`);\n\t\tawait unit.cast(\"event.trigger\", \"afterApplyLocale\", options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the messages file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tlocaleName\t\t\tLocale name.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic #_loadMessages(unit, localeName, options)\n\t{\n\n\t\tlet promises = [];\n\n\t\tObject.keys(unit.get(\"inventory\", \"locale.localizers\")).forEach((handlerName) => {\n\t\t\tpromises.push(unit.get(\"inventory\", `locale.localizers.${handlerName}`).loadMessages(localeName, options));\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tKey Perk class\n// =============================================================================\n\nexport default class KeyPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\t//static #__isComposing = false;\n\tstatic #__info = {\n\t\t\"sectionName\":\t\"key\",\n\t\t\"order\":\t\t800,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn KeyPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"key.isComposing\", false);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"afterTransform\", {\"handler\":KeyPerk.#KeyPerk_onAfterTransform, \"order\":KeyPerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #KeyPerk_onAfterTransform(sender, e, ex)\n\t{\n\n\t\tlet keys = this.get(\"setting\", \"key.keys\");\n\t\tif (keys)\n\t\t{\n\t\t\t// Init keys\n\t\t\tlet actions = KeyPerk.#__getActions(keys);\n\t\t\tthis.addEventListener(\"keydown\", function(e){KeyPerk.#KeyPerk_onKeyDown.call(this, e, this);});\n\t\t\tthis.addEventListener(\"keyup\", function(e){KeyPerk.#KeyPerk_onKeyUp.call(this, e, this, keys, actions);});\n\t\t\t//this.addEventListener(\"compositionstart\", function(e){KeyPerk.onCompositionStart.call(this, e, this, keys);});\n\t\t\t//this.addEventListener(\"compositionend\", function(e){KeyPerk.onCompositionEnd.call(this, e, this, keys);});\n\n\t\t\t// Init buttons\n\t\t\tObject.entries(keys).forEach(([sectionName, sectionValue]) => {\n\t\t\t\tKeyPerk.#__initButtons(this, sectionName, sectionValue);\n\t\t\t});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n \t * Key down event handler. Check if it is in composing mode or not.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic #KeyPerk_onKeyDown(e, unit)\n\t{\n\n\t\tunit.set(\"inventory\", \"key.isComposing\", ( e.keyCode === 229 ? true : false ));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n \t * Key up event handler.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t * @param\t{Object}\t\tactions\t\t\t\tAction info.\n\t */\n\tstatic #KeyPerk_onKeyUp(e, unit, options, actions)\n\t{\n\n\t\t// Ignore all key input when composing.\n\t\tif (unit.get(\"inventory\", \"key.isComposing\"))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet key  = ( e.key ? e.key : KeyPerk.#__getKeyfromKeyCode(e.keyCode) );\n\t\tswitch (key)\n\t\t{\n\t\t\tcase \"Esc\":\t\tkey = \"Escape\";\t\tbreak;\n\t\t\tcase \"Down\": \tkey = \"ArrowDown\";\tbreak;\n\t\t\tcase \"Up\": \t\tkey = \"ArrowUp\";\tbreak;\n\t\t\tcase \"Left\": \tkey = \"ArrowLeft\";\tbreak;\n\t\t\tcase \"Right\": \tkey = \"ArrowRight\";\tbreak;\n\t\t}\n\t\tkey = key.toLowerCase()\n\n\t\t// Take an action according to the key pressed\n\t\tif (actions[key])\n\t\t{\n\t\t\tactions[key][\"handler\"].call(this, e, unit, actions[key][\"option\"]);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Composition start event handler.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\t/*\n\tstatic #onCompositionStart(e, unit, options)\n\t{\n\n\t\tunit.#__isComposing = true;\n\n\t}\n\t*/\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Composition end event handler.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\t/*\n\tstatic #onCompositionEnd(e, unit, options)\n\t{\n\n\t\tunit.#__isComposing = false;\n\n\t}\n\t*/\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Default submit.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic async #__defaultSubmit(e, unit, options)\n\t{\n\n\t\tawait unit.cast(\"form.submit\");\n\n\t\tif (!unit.get(\"inventory\", \"form.cancelSubmit\"))\n\t\t{\n\t\t\t// Modal result\n\t\t\tif (unit.get(\"inventory\", \"dialog.isModal\"))\n\t\t\t{\n\t\t\t\tunit.set(\"inventory\", \"dialog.modalResult.result\", true);\n\t\t\t}\n\n\t\t\t// Auto close\n\t\t\tif (options && options[\"autoClose\"])\n\t\t\t{\n\t\t\t\tawait unit.cast(\"dialog.close\", {\"reason\":\"submit\"});\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Default cancel.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__defaultCancel(e, unit, options)\n\t{\n\n\t\treturn unit.cast(\"dialog.close\", {\"reason\":\"cancel\"});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Default clear.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tEvent info.\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__defaultClear(e, unit, options)\n\t{\n\n\t\tlet target = \"\";\n\n\t\tif (this.hasAttribute(\"bm-cleartarget\"))\n\t\t{\n\t\t\ttarget = this.getAttribute(\"bm-cleartarget\");\n\t\t}\n\n\t\treturn unit.cast(\"basic.clear\", {\"target\":target, \"options\":options[\"options\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n \t * Convert key name from key code.\n\t *\n\t * @param\t{Integer}\t\tcode\t\t\t\tKey code.\n\t */\n\tstatic #__getKeyfromKeyCode(code)\n\t{\n\n\t\tlet ret;\n\n\t\tswitch(code)\n\t\t{\n\t\t\tcase 13:\n\t\t\t\tret = \"Enter\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tret = String.fromCharCode(code);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init buttons.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\taction\t\t\t\tAction.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__initButtons(unit, action, options)\n\t{\n\n\t\tif (options && options[\"selector\"])\n\t\t{\n\t\t\tlet handler = ( options[\"handler\"] ? options[\"handler\"] : KeyPerk.#__getDefaultHandler(action) );\n\t\t\tlet elements = Util.scopedSelectorAll(unit, options[\"selector\"]);\n\n\t\t\telements.forEach((element) => {\n\t\t\t\telement.addEventListener(\"click\", function(e){handler.call(this, e, unit, options);});\n\t\t\t});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return an object that holds information about what action is taken when which key is pressed.\n\t *\n\t * @param\t{Object}\t\tsettings\t\t\tKey settings.\n\t *\n\t * @return \t{Object}\t\tAction info.\n\t */\n\tstatic #__getActions(settings)\n\t{\n\n\t\tlet actions = {};\n\n\t\tObject.keys(settings).forEach((key) => {\n\t\t\tlet keys = ( Array.isArray(settings[key][\"key\"]) ? settings[key][\"key\"] : [settings[key][\"key\"]])\n\n\t\t\tfor (let i = 0; i < keys.length; i++)\n\t\t\t{\n\t\t\t\tactions[keys[i]] = {};\n\t\t\t\tactions[keys[i]][\"type\"] = key;\n\t\t\t\tactions[keys[i]][\"handler\"] = ( settings[key][\"handler\"] ? settings[key][\"handler\"] : KeyPerk.#__getDefaultHandler(key) );\n\t\t\t\tactions[keys[i]][\"option\"] = settings[key];\n\t\t\t}\n\t\t});\n\n\t\treturn actions;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return the default handler for the action.\n\t *\n\t * @param\t{String}\t\taction\t\t\t\tAction.\n\t *\n\t * @return \t{Function}\t\tHandler.\n\t */\n\tstatic #__getDefaultHandler(action)\n\t{\n\n\t\tlet handler;\n\n\t\tswitch (action)\n\t\t{\n\t\tcase \"submit\":\n\t\t\thandler = KeyPerk.#__defaultSubmit;\n\t\t\tbreak;\n\t\tcase \"clear\":\n\t\t\thandler = KeyPerk.#__defaultClear;\n\t\t\tbreak;\n\t\tcase \"cancel\":\n\t\t\thandler = KeyPerk.#__defaultCancel;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn handler;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tChain Perk class\n// =============================================================================\n\nexport default class ChainPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__info = {\n\t\t\"sectionName\":\t\"chain\",\n\t\t\"order\":\t\t800,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn ChainPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":ChainPerk.#ChainPerk_onDoApplySettings, \"order\":ChainPerk.info[\"order\"]});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tstatic deinit(unit, options)\n\t{\n\n\t\tlet chains = e.details.setting[\"chains\"];\n\t\tif (chains)\n\t\t{\n\t\t\tObject.keys(chains).forEach((eventName) => {\n\t\t\t\tunit.removeEventHandler(eventName, {\"handler\":ChainPerk.#ChainPerk_onDoApplySettings, \"options\":chains[eventName]});\n\t\t\t});\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//\tEvent Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #ChainPerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet order = ChainPerk.info[\"order\"];\n\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.chain.targets\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tthis.use(\"event.add\", sectionName, {\n\t\t\t\t\"handler\":\tChainPerk.#ChainPerk_onDoProcess,\n\t\t\t\t\"order\":\torder,\n\t\t\t\t\"options\":\tsectionValue\n\t\t\t});\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\tstatic #ChainPerk_onDoProcess(sender, e, ex)\n\t{\n\n\t\tlet targets = ex.options;\n\t\tlet promises = [];\n\t\tlet chain = Promise.resolve();\n\n\t\tfor (let i = 0; i < targets.length; i++)\n\t\t{\n\t\t\tlet method = targets[i][\"skillName\"] || \"basic.refresh\";\n\t\t\tlet status = targets[i][\"status\"] || \"ready\";\n\t\t\tlet sync = targets[i][\"sync\"];\n\n\t\t\tlet nodes = this.use(\"basic.locateAll\", targets[i]);\n\t\t\tUtil.warn(nodes.length > 0, `ChainPerk.onDoProcess(): Node not found. name=${this.tagName}, eventName=${e.type}, rootNode=${JSON.stringify(targets[i])}, method=${method}`)\n\n\t\t\tif (sync)\n\t\t\t{\n\t\t\t\tchain = chain.then(() => {\n\t\t\t\t\treturn ChainPerk.#__execTarget(this, nodes, method, status);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tchain = ChainPerk.#__execTarget(this, nodes, method, status);\n\t\t\t}\n\t\t\tpromises.push(chain);\n\t\t}\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\t//\tPrivates\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Execute target methods.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Array}\t\t\tnodes\t\t\t\tNodes.\n\t * @param\t{String}\t\tskillName\t\t\tSkill name to exec.\n\t * @param\t{String}\t\tstatus\t\t\t\tStatus to wait.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic #__execTarget(unit, nodes, skillName, status)\n\t{\n\n\t\tlet promises = [];\n\n\t\tnodes.forEach((element) => {\n\t\t\tlet promise = unit.cast(\"status.wait\", [{\"object\":element, \"status\":status}]).then(() => {\n\t\t\t\treturn element.cast(skillName, {\"sender\":unit});\n\t\t\t});\n\t\t\tpromises.push(promise);\n\t\t});\n\n\t\treturn Promise.all(promises);\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tDialog Perk class\n// =============================================================================\n\nexport default class DialogPerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__backdrop;\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"dialog\",\n\t\t\"order\":\t\t\t800,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn DialogPerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tDialogPerk.#__vault.set(unit, {\n\t\t\t\"backdrop\":\t\t\tnull,\n\t\t\t\"backdropPromise\":\tPromise.resolve(),\n\t\t\t\"modalPromise\":\t\tnull,\n\t\t});\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"dialog.cancelClose\");\n\t\tunit.upgrade(\"inventory\", \"dialog.isModal\", false);\n\t\tunit.upgrade(\"inventory\", \"dialog.modalResult\", {});\n\t\tunit.upgrade(\"inventory\", \"dialog.options\");\n\t\tunit.upgrade(\"spell\", \"dialog.open\", DialogPerk.#_open);\n\t\tunit.upgrade(\"spell\", \"dialog.openModal\", DialogPerk.#_openModal);\n\t\tunit.upgrade(\"spell\", \"dialog.close\", DialogPerk.#_close);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"afterReady\", {\"handler\":DialogPerk.#DialogPerk_onAfterReady, \"order\":DialogPerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #DialogPerk_onAfterReady(sender, e, ex)\n\t{\n\n\t\tif (this.get(\"setting\", \"dialog.options.autoOpen\"))\n\t\t{\n\t\t\tconsole.debug(`DialogPerk.DialogPerk_onAfterReady(): Automatically opening unit. name=${this.tagName}, id=${this.id}`);\n\n\t\t\treturn this.cast(\"dialog.open\");\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Spells (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Open unit.\n\t *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #_open(unit, options)\n\t{\n\n\t\toptions = options || {};\n\t\tunit.set(\"inventory\", \"dialog.options\", options);\n\n\t\tconsole.debug(`DialogPerk.#_open(): Opening unit. name=${unit.tagName}, id=${unit.id}`);\n\t\tawait unit.cast(\"event.trigger\", \"beforeOpen\", options);\n\t\tif (!unit.get(\"inventory\", \"dialog.cancelOpen\"))\n\t\t{\n\t\t\t// Show backdrop\n\t\t\tif (unit.get(\"setting\", \"dialog.options.showBackdrop\"))\n\t\t\t{\n\t\t\t\tawait DialogPerk.#__showBackdrop(unit, unit.get(\"setting\", \"dialog.backdropOptions\"));\n\t\t\t}\n\n\t\t\t// Setup\n\t\t\tif (Util.safeGet(options, \"autoSetupOnOpen\", unit.get(\"setting\", \"dialog.options.autoSetupOnOpen\", false)))\n\t\t\t{\n\t\t\t\tawait unit.cast(\"basic.setup\", options);\n\t\t\t}\n\n\t\t\t// Refresh\n\t\t\tif (Util.safeGet(options, \"autoRefreshOnOpen\", unit.get(\"setting\", \"dialog.options.autoRefreshOnOpen\", true)))\n\t\t\t{\n\t\t\t\tawait unit.cast(\"basic.refresh\", options);\n\t\t\t}\n\n\t\t\tawait unit.cast(\"event.trigger\", \"doOpen\", options);\n\t\t\tconsole.debug(`DialogPerk.#_open(): Opened unit. name=${unit.tagName}, id=${unit.id}`);\n\t\t\tawait unit.cast(\"event.trigger\", \"afterOpen\", options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Open unit modal.\n\t *\n\t * @param\t{array}\t\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic #_openModal(unit, options)\n\t{\n\n\t\tconsole.debug(`DialogPerk.#_openModal(): Opening unit modal. name=${unit.tagName}, id=${unit.id}`);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tunit.set(\"inventory\", \"dialog.isModal\", true);\n\t\t\tunit.set(\"inventory\", \"dialog.modalResult\", {\"result\":false});\n\t\t\tDialogPerk.#__vault.get(unit)[\"modalPromise\"] = {\"resolve\":resolve,\"reject\":reject};\n\n\t\t\treturn DialogPerk.#_open(unit, options);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Close unit.\n\t *\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #_close(unit, options)\n\t{\n\n\t\toptions = options || {};\n\t\tunit.set(\"inventory\", \"dialog.cancelClose\", false);\n\n\t\tconsole.debug(`DialogPerk.#_close(): Closing unit. name=${unit.tagName}, id=${unit.id}`);\n\t\tawait unit.cast(\"event.trigger\", \"beforeClose\", options);\n\t\tif (!unit.get(\"inventory\", \"dialog.cancelClose\"))\n\t\t{\n\t\t\tawait unit.cast(\"event.trigger\", \"doClose\", options)\n\n\t\t\t// Hide backdrop\n\t\t\tif (unit.get(\"setting\", \"dialog.options.showBackdrop\"))\n\t\t\t{\n\t\t\t\tDialogPerk.#__removeCloseOnClickHandlers();\n\t\t\t\tawait DialogPerk.#__hideBackdrop(unit, unit.get(\"setting\", \"dialog.backdropOptions\"));\n\t\t\t}\n\n\t\t\tif (unit.get(\"inventory\", \"dialog.isModal\"))\n\t\t\t{\n\t\t\t\tDialogPerk.#__vault.get(unit)[\"modalPromise\"].resolve(unit.get(\"inventory\", \"dialog.modalResult\"));\n\t\t\t}\n\t\t\tconsole.debug(`DialogPerk.#_close(): Closed unit. name=${unit.tagName}, id=${unit.id}`);\n\n\t\t\tawait unit.cast(\"event.trigger\", \"afterClose\", options);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t// \tPrivates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create the backdrop if not exists.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__createBackdrop(unit, options)\n\t{\n\n\t\tif (!DialogPerk.#__backdrop)\n\t\t{\n\t\t\t// Create the backdrop\n\t\t\tdocument.body.insertAdjacentHTML('afterbegin', '<div class=\"backdrop\"></div>');\n\t\t\tDialogPerk.#__backdrop = document.body.firstElementChild;\n\t\t}\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Show backdrop.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__showBackdrop(unit, options)\n\t{\n\n\t\tDialogPerk.#__createBackdrop(unit);\n\n\t\treturn DialogPerk.#__vault.get(unit)[\"backdropPromise\"].then(() => {\n\t\t\tDialogPerk.#__vault.get(unit)[\"backdropPromise\"] = new Promise((resolve, reject) => {\n\t\t\t\twindow.getComputedStyle(DialogPerk.#__backdrop).getPropertyValue(\"visibility\"); // Recalc styles\n\n\t\t\t\tlet addClasses = [\"show\"].concat(unit.get(\"setting\", \"dialog.backdropOptions.showOptions.addClasses\", []));\n\t\t\t\tDialogPerk.#__backdrop.classList.add(...addClasses);\n\t\t\t\tDialogPerk.#__backdrop.classList.remove(...unit.get(\"setting\", \"dialog.backdropOptions.showOptions.removeClasses\", []));\n\n\t\t\t\tlet effect = DialogPerk.#__getEffect();\n\t\t\t\tif (effect)\n\t\t\t\t{\n\t\t\t\t\t// Transition/Animation\n\t\t\t\t\tDialogPerk.#__backdrop.addEventListener(`${effect}end`, () => {\n\t\t\t\t\t\tif (Util.safeGet(options, \"closeOnClick\", true))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tDialogPerk.#__installCloseOnClickHandler(unit);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, {\"once\":true});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t// No Transition/Animation\n\t\t\t\t\tif (Util.safeGet(options, \"closeOnClick\", true))\n\t\t\t\t\t{\n\t\t\t\t\t\tDialogPerk.#__installCloseOnClickHandler(unit);\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet sync =Util.safeGet(options, \"showOptions.sync\", Util.safeGet(options, \"sync\"));\n\t\t\tif (sync)\n\t\t\t{\n\t\t\t\treturn DialogPerk.#__vault.get(unit)[\"backdropPromise\"];\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Hide backdrop.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__hideBackdrop(unit, options)\n\t{\n\n\t\treturn DialogPerk.#__vault.get(unit)[\"backdropPromise\"].then(() => {\n\t\t\tDialogPerk.#__vault.get(unit)[\"backdropPromise\"] = new Promise((resolve, reject) => {\n\t\t\t\twindow.getComputedStyle(DialogPerk.#__backdrop).getPropertyValue(\"visibility\"); // Recalc styles\n\n\t\t\t\tlet removeClasses = [\"show\"].concat(unit.get(\"setting\", \"dialog.backdropOptions.hideOptions.removeClasses\", []));\n\t\t\t\tDialogPerk.#__backdrop.classList.remove(...removeClasses);\n\t\t\t\tDialogPerk.#__backdrop.classList.add(...unit.get(\"setting\", \"dialog.backdropOptions.hideOptions.addClasses\", []));\n\n\t\t\t\tlet effect = DialogPerk.#__getEffect();\n\t\t\t\tif (effect)\n\t\t\t\t{\n\t\t\t\t\tDialogPerk.#__backdrop.addEventListener(`${effect}end`, () => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, {\"once\":true});\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet sync = Util.safeGet(options, \"hideOptions.sync\", Util.safeGet(options, \"sync\"));\n\t\t\tif (sync)\n\t\t\t{\n\t\t\t\treturn DialogPerk.#__vault.get(unit)[\"backdropPromise\"];\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Install the event handler to the backdrop to close the unit when clicked.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__installCloseOnClickHandler(unit, options)\n\t{\n\n\t\tDialogPerk.#__backdrop.onclick = (e) => {\n\t\t\tif (e.target === e.currentTarget)\n\t\t\t{\n\t\t\t\tDialogPerk.#_close(unit, {\"reason\":\"cancel\"});\n\t\t\t}\n\t\t};\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t * Remove click event handlers from backdrop.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #__removeCloseOnClickHandlers()\n\t{\n\n\t\tDialogPerk.#__backdrop.onclick = null;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get which effect is applied to backdrop.\n\t *\n\t * @return \t{String}\t\tEffect (\"transition\" or \"animation\").\n\t */\n\tstatic #__getEffect()\n\t{\n\n\t\tlet effect = \"\";\n\n\t\tif (window.getComputedStyle(DialogPerk.#__backdrop).getPropertyValue('transition-duration') !== \"0s\")\n\t\t{\n\t\t\teffect = \"transition\";\n\t\t}\n\t\telse if (window.getComputedStyle(DialogPerk.#__backdrop).getPropertyValue('animation-name') !== \"none\")\n\t\t{\n\t\t\teffect = \"animation\";\n\t\t}\n\n\t\treturn effect;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tPreference Perk class\n// =============================================================================\n\nexport default class PreferencePerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"preference\",\n\t\t\"order\":\t\t\t900,\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn PreferencePerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tPreferencePerk.#__vault.set(unit, {\n\t\t\t\"server\":\tnull,\n\t\t});\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"skill\", \"preference.get\", PreferencePerk.#_getPreferences);\n\t\tunit.upgrade(\"spell\", \"preference.set\", PreferencePerk.#_setPreferences);\n\t\tunit.upgrade(\"spell\", \"preference.apply\", PreferencePerk.#_applyPreferences);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":PreferencePerk.#PreferencePerk_onDoApplySettings, \"order\":PreferencePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doSetup\", {\"handler\":PreferencePerk.#PreferencePerk_onDoSetup, \"order\":PreferencePerk.info[\"order\"]});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #PreferencePerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\tlet serverNode = this.get(\"setting\", \"preference.options.preferenceServer\", this.get(\"setting\", \"system.preference.options.preferenceServer\"));\n\t\tserverNode = ( serverNode === true ? \"bm-preference\" : serverNode );\n\n\t\tUtil.assert(serverNode, () => `Preference Server node not specified in settings. name=${this.tagName}`);\n\n\t\treturn this.cast(\"status.wait\", [serverNode]).then(() => {\n\t\t\tlet server = document.querySelector(serverNode);\n\t\t\tserver.subscribe(this, Util.safeGet(e.detail, \"settings.preference\"));\n\t\t\tPreferencePerk.#__vault.get(this)[\"server\"] = server;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #PreferencePerk_onDoSetup(sender, e, ex)\n\t{\n\n\t\treturn this.cast(\"preference.apply\", {\"preferences\":PreferencePerk.#__vault.get(this)[\"server\"].items});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get preferences.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\ttarget\t\t\t\tPreference name to get.\n\t * @param\t{*}\t\t\t\tdefaultValue\t\tValue returned when key is not found.\n\t */\n\tstatic #_getPreferences(unit, key, defaultValue)\n\t{\n\n\t\tif (key)\n\t\t{\n\t\t\treturn PreferencePerk.#__vault.get(unit)[\"server\"].getPreference(key, defaultValue);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn PreferencePerk.#__vault.get(unit)[\"server\"].items;\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Spells (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply preferences.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic async #_applyPreferences(unit, options)\n\t{\n\n\t\tconsole.debug(`PreferencePerk.#_applyPreferences(): Applying preferences. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\tawait unit.cast(\"event.trigger\", \"beforeApplyPreferences\", options);\n\t\tawait unit.cast(\"event.trigger\", \"doApplyPreferences\", options);\n\t\tconsole.debug(`PreferencePerk.#_applyPreferences(): Applied preferences. name=${unit.tagName}, id=${unit.id}, uniqueId=${unit.uniqueId}`);\n\t\tawait unit.cast(\"event.trigger\", \"afterApplyPreferences\", options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Apply preferences.\n\t *\n     * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\tpreferences \t\tPreferences to set.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #_setPreferences(unit, preferences, options)\n\t{\n\n\t\treturn PreferencePerk.#__vault.get(unit)[\"server\"].setPreference(preferences, options, {\"sender\":unit});\n\n\t}\n\n}\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Util, AjaxUtil, URLUtil} from \"@bitsmist-js_v1/core\";\nimport {pathToRegexp} from \"path-to-regexp\";\n\n// =============================================================================\n//\tRoute Perk class\n// =============================================================================\n\nexport default class RoutePerk extends Perk\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Private Variables\n\t// -------------------------------------------------------------------------\n\n\tstatic #__vault = new WeakMap();\n\tstatic #__info = {\n\t\t\"sectionName\":\t\t\"routing\",\n\t\t\"order\":\t\t\t900,\n\t\t\"depends\":\t\t\t\"ValidationPerk\",\n\t};\n\n\t// -------------------------------------------------------------------------\n\t//  Properties\n\t// -------------------------------------------------------------------------\n\n\tstatic get info()\n\t{\n\n\t\treturn RoutePerk.#__info;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic globalInit()\n\t{\n\n\t\t// Set state on the first page\n\t\thistory.replaceState(RoutePerk.#__getState(\"connect\"), null, null);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic init(unit, options)\n\t{\n\n\t\t// Init unit vault\n\t\tRoutePerk.#__vault.set(unit, {\n\t\t\t\"routes\":\t[],\n\t\t});\n\n\t\t// Upgrade unit\n\t\tunit.upgrade(\"inventory\", \"routing.routeInfo\", {});\n\t\tunit.upgrade(\"skill\", \"routing.add\", RoutePerk.#_addRoute);\n\t\tunit.upgrade(\"skill\", \"routing.jump\", RoutePerk.#_jumpRoute);\n\t\tunit.upgrade(\"skill\", \"routing.replace\", RoutePerk.#_replaceRoute);\n\t\tunit.upgrade(\"spell\", \"routing.switch\", RoutePerk.#_switchRoute);\n\t\tunit.upgrade(\"spell\", \"routing.open\", RoutePerk.#_open);\n\t\tunit.upgrade(\"spell\", \"routing.update\", RoutePerk.#_updateRoute);\n\t\tunit.upgrade(\"spell\", \"routing.refresh\", RoutePerk.#_refreshRoute);\n\t\tunit.upgrade(\"spell\", \"routing.normalize\", RoutePerk.#_normalizeRoute);\n\n\t\t// Add event handlers\n\t\tunit.use(\"event.add\", \"doApplySettings\", {\"handler\":RoutePerk.#RoutePerk_onDoApplySettings, \"order\":RoutePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doStart\", {\"handler\":RoutePerk.#RoutePerk_onDoStart, \"order\":RoutePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"afterReady\", {\"handler\":RoutePerk.#RoutePerk_onAfterReady, \"order\":RoutePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doValidateFail\", {\"handler\":RoutePerk.#RoutePerk_onDoValidateFail, \"order\":RoutePerk.info[\"order\"]});\n\t\tunit.use(\"event.add\", \"doReportValidity\", {\"handler\":RoutePerk.#RoutePerk_onDoReportValidity, \"order\":RoutePerk.info[\"order\"]});\n\n\t\t// Init popstate handler\n\t\tRoutePerk.#__initPopState(unit);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers (Unit)\n\t// -------------------------------------------------------------------------\n\n\tstatic #RoutePerk_onDoApplySettings(sender, e, ex)\n\t{\n\n\t\t// Routings\n\t\tObject.entries(Util.safeGet(e.detail, \"settings.routing.routes\", {})).forEach(([sectionName, sectionValue]) => {\n\t\t\tRoutePerk.#_addRoute(this, sectionName, sectionValue);\n\t\t});\n\n\t\t// Set current route info.\n\t\tthis.set(\"inventory\", \"routing.routeInfo\", RoutePerk.#__loadRouteInfo(this, window.location.href));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #RoutePerk_onDoStart(sender, e, ex)\n\t{\n\n\t\tlet routeName = this.get(\"inventory\", \"routing.routeInfo.name\");\n\t\tif (routeName)\n\t\t{\n\t\t\tlet options = {\n\t\t\t\t\"query\": this.get(\"setting\", \"unit.options.query\")\n\t\t\t};\n\n\t\t\treturn this.cast(\"routing.switch\", routeName, options);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthrow new Error(\"route not found\");\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #RoutePerk_onAfterReady(sender, e, ex)\n\t{\n\n\t\treturn this.cast(\"routing.open\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #RoutePerk_onDoValidateFail(sender, e, ex)\n\t{\n\n\t\t// Try to fix URL when validation failed\n\t\tif (this.get(\"setting\", \"routing.options.autoFix\"))\n\t\t{\n\t\t\tRoutePerk.#__fixRoute(this, e.detail.url);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic #RoutePerk_onDoReportValidity(sender, e, ex)\n\t{\n\n\t\t// Dump errors when validation failed\n\t\tRoutePerk.#__dumpValidationErrors(this);\n\t\tthrow new URIError(\"URL validation failed.\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Skills (Unit)\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Add the route.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\ttitle\t\t\t\tRoute title.\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute info.\n\t * @param\t{Boolean}\t\tfirst\t\t\t\tAdd to top when true.\n\t */\n\tstatic #_addRoute(unit, title, routeInfo, first)\n\t{\n\n\t\tlet keys = [];\n\t\tlet route = {\n\t\t\t\"title\":\t\ttitle,\n\t\t\t\"name\":\t\t\trouteInfo[\"name\"] || title,\n\t\t\t\"origin\":\t\trouteInfo[\"origin\"],\n\t\t\t\"path\":\t\t\trouteInfo[\"path\"],\n\t\t\t\"settingsRef\":\trouteInfo[\"settingsRef\"],\n\t\t\t\"settings\":\t\trouteInfo[\"settings\"],\n\t\t\t\"extenderRef\":\trouteInfo[\"extenderRef\"],\n\t\t\t\"extender\":\t\trouteInfo[\"extender\"],\n\t\t\t\"routeOptions\":\trouteInfo[\"routeOptions\"],\n\t\t\t\"__re\": \t\t\tpathToRegexp(routeInfo[\"path\"], keys),\n\t\t\t\"__keys\":\t\tkeys,\n\t\t};\n\n\t\tlet routes = RoutePerk.#__vault.get(unit)[\"routes\"];\n\t\tif (first)\n\t\t{\n\t\t\troutes.unshift(route);\n\t\t}\n\t\telse\n\t\t{\n\t\t\troutes.push(route);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the extender file for this page.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #_loadSettings(unit, routeName, options)\n\t{\n\n\t\tlet settings = await AjaxUtil.loadJSON(RoutePerk.#__getSettingsURL(unit, routeName), Object.assign({\"bindTo\":unit}, options));\n\t\tunit.set(\"inventory\", \"routing.routeInfo.settings\", settings);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the extender file for this page.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tstatic async #_loadExtender(unit, routeName, options)\n\t{\n\n\t\tif (!unit.get(\"inventory\", \"routing.routeInfo.extender\"))\n\t\t{\n\t\t\tlet extender = await AjaxUtil.loadText(RoutePerk.#__getExtenderURL(unit, routeName));\n\t\t\tunit.set(\"inventory\", \"routing.routeInfo.extender\", extender);\n\t\t}\n\t\tlet extender = unit.get(\"inventory\", \"routing.routeInfo.extender\");\n\t\tif (extender)\n\t\t{\n\t\t\tnew Function(`\"use strict\";${extender}`)();\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the route speicific settings file and init.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic async #_switchRoute(unit, routeName, options)\n\t{\n\n\t\tUtil.assert(routeName, () => \"RoutePerk.#_switchRoute(): A route name not specified.\", TypeError);\n\n\t\tlet newSettings;\n\n\t\t// Load extra settings\n\t\tif (RoutePerk.#__hasExternalSettings(unit, routeName))\n\t\t{\n\t\t\tawait RoutePerk.#_loadSettings(unit, routeName);\n\t\t}\n\n\t\t// Load extra codes\n\t\tif (RoutePerk.#__hasExternalExtender(unit, routeName))\n\t\t{\n\t\t\tawait RoutePerk.#_loadExtender(unit);\n\t\t}\n\n\t\t// Merge & apply new settings\n\t\tnewSettings = unit.get(\"inventory\", \"routing.routeInfo.settings\");\n\t\tunit.use(\"setting.merge\", newSettings);\n\t\tawait unit.cast(\"setting.apply\", {\"settings\":newSettings});\n\n\t\t// Cast trasform to load & apply CSS\n\t\tawait unit.cast(\"basic.transform\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Open route.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute information.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic async #_open(unit, routeInfo, options)\n\t{\n\n\t\toptions = Object.assign({}, options);\n\n\t\t// Current route info\n\t\tlet curRouteInfo = unit.get(\"inventory\", \"routing.routeInfo\");\n\n\t\tlet newURL;\n\t\tlet newRouteInfo;\n\t\tif (routeInfo)\n\t\t{\n\t\t\tnewURL = URLUtil.buildURL(routeInfo, options);\n\t\t\tnewRouteInfo = RoutePerk.#__loadRouteInfo(unit, newURL);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tnewURL = window.location.href;\n\t\t\tnewRouteInfo = curRouteInfo;\n\t\t}\n\n\t\t// Jump to another page\n\t\tif (options[\"jump\"] || !newRouteInfo[\"name\"]\n\t\t\t\t|| ( curRouteInfo[\"name\"] != newRouteInfo[\"name\"]) // <--- remove this when #_update() is ready.\n\t\t)\n\t\t{\n\t\t\twindow.location.href = newURL;\n\t\t\t//RoutePerk.#_jumpRoute(unit, {\"URL\":newURL});\n\t\t\treturn;\n\t\t}\n\n\t\t// Replace URL\n\t\tlet pushState = Util.safeGet(options, \"pushState\", ( routeInfo ? true : false ));\n\t\tif (pushState)\n\t\t{\n\t\t\thistory.pushState(RoutePerk.#__getState(\"_open.pushState\"), null, newURL);\n\t\t}\n\t\tunit.set(\"inventory\", \"routing.routeInfo\", newRouteInfo);\n\n\t\t/*\n\t\t// Update route\n\t\t// Load other unit when new route name is different from the current route name.\n\t\tif (curRouteInfo[\"name\"] != newRouteInfo[\"name\"])\n\t\t{\n\t\t\tawait RoutePerk.#_updateRoute(unit, curRouteInfo, newRouteInfo, options);\n\t\t}\n\t\t*/\n\n\t\t// Validate URL\n\t\tif (unit.get(\"setting\", \"routing.options.autoValidate\"))\n\t\t{\n\t\t\tlet validateOptions = {\n\t\t\t\t\"validatorName\":\tunit.get(\"setting\", \"routing.options.validatorName\"),\n\t\t\t\t\"items\":\t\t\tURLUtil.loadParameters(newURL),\n\t\t\t\t\"url\":\t\t\t\tnewURL,\n\t\t\t};\n\t\t\tawait unit.cast(\"validation.validate\", validateOptions);\n\t\t}\n\n\t\t// Refresh\n\t\tawait RoutePerk.#_refreshRoute(unit, newRouteInfo, options);\n\n\t\t// Normalize URL\n\t\tawait RoutePerk.#_normalizeRoute(unit, window.location.href);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Jump to url.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute information.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #_jumpRoute(unit, routeInfo, options)\n\t{\n\n\t\tlet url = URLUtil.buildURL(routeInfo, options)\n\t\twindow.location.href = url;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Update route.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute information.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic #_updateRoute(unit, curRouteInfo, newRouteInfo, options)\n\t{\n\n\t\treturn RoutePerk.#_switchRoute(unit, newRouteInfo[\"name\"]);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Refresh route.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute information.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic #_refreshRoute(unit, routeInfo, options)\n\t{\n\n\t\treturn unit.cast(\"basic.refresh\", options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Replace current url.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\trouteInfo\t\t\tRoute information.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tstatic #_replaceRoute(unit, routeInfo, options)\n\t{\n\n\t\thistory.replaceState(RoutePerk.#__getState(\"replaceRoute\", window.history.state), null, URLUtil.buildURL(routeInfo, options));\n\t\tunit.set(\"inventory\", \"routing.routeInfo\", RoutePerk.#__loadRouteInfo(unit, window.location.href));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Normalize route.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\turl\t\t\t\t\tUrl to normalize.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic async #_normalizeRoute(unit, url)\n\t{\n\n\t\tawait unit.cast(\"event.trigger\", \"beforeNormalizeURL\");\n\t\tawait unit.cast(\"event.trigger\", \"doNormalizeURL\");\n\t\tawait unit.cast(\"event.trigger\", \"afterNormalizeURL\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the external settings file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external settings file.\n\t */\n\tstatic #__hasExternalSettings(unit, routeName)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (!unit.get(\"inventory\", \"routing.routeInfo.settings\"))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to settings file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic #__getSettingsURL(unit, routeName)\n\t{\n\n\t\tlet url;\n\t\tlet settingsRef = unit.get(\"inventory\", \"routing.routeInfo.settingsRef\");\n\n\t\tif (settingsRef && settingsRef !== true)\n\t\t{\n\t\t\t// If URL is specified in ref, use it\n\t\t\turl = settingsRef;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Use default path and filename\n\t\t\tlet path = Util.concatPath([\n\t\t\t\t\tunit.get(\"setting\", \"system.unit.options.path\", \"\"),\n\t\t\t\t\tunit.get(\"setting\", \"unit.options.path\", \"\"),\n\t\t\t\t]);\n\t\t\tlet ext = RoutePerk.#__getSettingFormat(unit);\n\t\t\tlet fileName = unit.get(\"setting\", \"unit.options.fileName\", unit.tagName.toLowerCase()) + \".\" + routeName + \".settings.\" + ext;\n  \t\t\tlet query = unit.get(\"setting\", \"unit.options.query\");\n\n\t\t\t url = Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\t\t}\n\n\t\treturn url;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the external extender file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external extender file.\n\t */\n\tstatic #__hasExternalExtender(unit, routeName)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (unit.get(\"inventory\", \"routing.routeInfo.extenderRef\") || unit.get(\"inventory\", \"routing.routeInfo.extender\"))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to extender file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\trouteName\t\t\tRoute name.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\tstatic #__getExtenderURL(unit, routeName)\n\t{\n\n\t\tlet query;\n\t\tlet extenderRef = unit.get(\"inventory\", \"routing.routeInfo.extenderRef\");\n\n\t\tif (extenderRef && extenderRef !== true)\n\t\t{\n\t\t\t// If URL is specified in ref, use it\n\t\t\turl = settingsRef;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Use default path and filename\n\t\t\tlet path = path || Util.concatPath([\n\t\t\t\t\tunit.get(\"setting\", \"system.unit.options.path\", \"\"),\n\t\t\t\t\tunit.get(\"setting\", \"unit.options.path\", \"\"),\n\t\t\t\t]);\n\t\t\tlet fileName = fileName || unit.get(\"setting\", \"unit.options.fileName\", unit.tagName.toLowerCase()) + \".\" + routeName + \".js\";\n\t\t\tlet query = unit.get(\"setting\", \"unit.options.query\");\n\n\t\t\turl = Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\t\t}\n\n\t\treturn url;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get route info from the url.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\turl\t\t\t\t\tUrl.\n\t *\n\t * @return  {Object}\t\tRoute info.\n\t */\n\tstatic #__loadRouteInfo(unit, url)\n\t{\n\n\t\tlet parsedURL = new URL(url, window.location.href);\n\t\tlet routeInfo = {\n\t\t\t\"URL\":\t\t\t\turl,\n\t\t\t\"path\":\t\t\t\tparsedURL.pathname,\n\t\t\t\"query\":\t\t\tparsedURL.search,\n\t\t\t\"parsedURL\":\t\tparsedURL,\n\t\t\t\"queryParameters\":\tURLUtil.loadParameters(url),\n\t\t};\n\n\t\t// Find the matching route\n\t\tlet routes = RoutePerk.#__vault.get(unit)[\"routes\"];\n\t\tfor (let i = routes.length - 1; i >= 0; i--)\n\t\t{\n\t\t\t// Check origin\n\t\t\tif (routes[i][\"origin\"] && parsedURL.origin != routes[i][\"origin\"])\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check path\n\t\t\tlet result = (!routes[i][\"path\"] ? [] : routes[i].__re.exec(parsedURL.pathname));\n\t\t\tif (result)\n\t\t\t{\n\t\t\t\tlet params = {};\n\t\t\t\tfor (let j = 0; j < result.length - 1; j++)\n\t\t\t\t{\n\t\t\t\t\tparams[routes[i].__keys[j].name] = result[j + 1];\n\t\t\t\t}\n\t\t\t\trouteInfo[\"title\"] = routes[i].title;\n\t\t\t\tlet routeName = RoutePerk.#__interpolate(routes[i].name, params);\n\t\t\t\trouteInfo[\"name\"] = routeName;\n\t\t\t\tlet settingsRef = Util.safeGet(routes[i], `routeOptions.${routeName}.settingsRef`, routes[i].settingsRef);\n\t\t\t\trouteInfo[\"settingsRef\"] = RoutePerk.#__interpolate(settingsRef, params);\n\t\t\t\tlet settings = Util.safeGet(routes[i], `routeOptions.${routeName}.settings`, routes[i].settings);\n\t\t\t\trouteInfo[\"settings\"] = Util.getObject(settings, {\"format\":RoutePerk.#__getSettingFormat(unit)});\n\t\t\t\tlet extenderRef = Util.safeGet(routes[i], `routeOptions.${routeName}.extenderRef`, routes[i].extenderRef);\n\t\t\t\trouteInfo[\"extenderRef\"] = RoutePerk.#__interpolate(extenderRef, params);\n\t\t\t\trouteInfo[\"extender\"] = Util.safeGet(routes[i], `routeOptions.${routeName}.extender`, routes[i].extender);\n\t\t\t\trouteInfo[\"routeParameters\"] = params;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn routeInfo;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Interpolate string using parameters.\n\t *\n\t * @param\t{String}\t\ttargtet\t\t\t\tTarget string.\n\t * @param\t{Object}\t\tparams\t\t\t\tInterplolation parameters.\n\t *\n\t * @return  {Object}\t\tReplaced value.\n\t */\n\tstatic #__interpolate(target, params)\n\t{\n\n\t\tlet ret = target;\n\n\t\tif (params && typeof(target) === \"string\" && target.indexOf(\"${\") > -1)\n\t\t{\n\t\t\tlet re = new RegExp(`\\\\$\\\\{(${Object.keys(params).join(\"|\")})\\\\}`,\"gi\");\n\n\t\t\tret = target.replace(re, function(match, p1){\n\t\t\t\treturn params[p1];\n\t\t\t});\n\t\t}\n\n\t\treturn ret\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init pop state handling.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic #__initPopState(unit)\n\t{\n\n\t\twindow.addEventListener(\"popstate\", async (e) => {\n\t\t\tawait unit.cast(\"event.trigger\", \"beforePopState\");\n\t\t\tawait RoutePerk.#_open(unit, {\"url\":window.location.href}, {\"pushState\":false});\n\t\t\tawait unit.cast(\"event.trigger\", \"afterPopState\");\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return history state.\n\t *\n\t * @param\t{String}\t\tmsg\t\t\t\t\tMessage to store in state.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptional values to store in state.\n\t *\n\t * @return\t{String}\t\tState.\n\t */\n\tstatic #__getState(msg, options)\n\t{\n\n\t\tlet newState = {\n\t\t\t\"msg\": msg,\n\t\t};\n\n\t\tif (options)\n\t\t{\n\t\t\tnewState = Util.deepMerge(Util.deepClone(options), newState);\n\t\t}\n\n\t\treturn newState;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Fix route.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\turl\t\t\t\t\tUrl to validate.\n\t *\n\t * @return \t{Promise}\t\tPromise.\n\t */\n\tstatic #__fixRoute(unit, url)\n\t{\n\n\t\tlet isOk = true;\n\t\tlet newParams = URLUtil.loadParameters(url);\n\n\t\t// Fix invalid paramters\n\t\tObject.keys(unit.get(\"inventory\", \"validation.validationResult.invalids\")).forEach((key) => {\n\t\t\tlet item = unit.get(\"inventory\", `validation.validationResult.invalids.${key}`);\n\n\t\t\tif (item[\"fix\"] !== undefined)\n\t\t\t{\n\t\t\t\tnewParams[item[\"key\"]] = item[\"fix\"];\n\t\t\t}\n\t\t\telse if (item[\"failed\"][0][\"validity\"] === \"notAllowed\")\n\t\t\t{\n\t\t\t\tdelete newParams[item[\"key\"]];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tisOk = false;\n\t\t\t}\n\t\t});\n\n\t\tif (isOk)\n\t\t{\n\t\t\t// Replace URL\n\t\t\tRoutePerk.#_replaceRoute(unit, {\"queryParameters\":newParams});\n\n\t\t\t// Fixed\n\t\t\tunit.set(\"inventory\", \"validation.validationResult.result\", true);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Dump validation errors.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t */\n\tstatic #__dumpValidationErrors(unit)\n\t{\n\n\t\tObject.keys(unit.get(\"inventory\", \"validation.validationResult.invalids\")).forEach((key) => {\n\t\t\tlet item = unit.get(\"inventory\", `validation.validationResult.invalids.${key}`);\n\n\t\t\tif (item.failed)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < item.failed.length; i++)\n\t\t\t\t{\n\t\t\t\t\tconsole.warn(\"RoutePerk.#__dumpValidationErrors(): URL validation failed.\",\n\t\t\t\t\t\t`key=${item.key}, value=${item.value}, rule=${item.failed[i].rule}, validity=${item.failed[i].validity}`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return default settings file format.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {String}\t\t\"js\" or \"json\".\n\t */\n\tstatic #__getSettingFormat(unit)\n\t{\n\n\t\treturn unit.get(\"setting\", \"routing.options.settingFormat\",\n\t\t\t\tunit.get(\"setting\", \"system.setting.options.settingFormat\",\n\t\t\t\t\t\"json\"));\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Util, Store} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tResource Handler class\n// =============================================================================\n\nexport default class ResourceHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n     * @param\t{String}\t\tresourceName\t\tResource name.\n     * @param\t{Object}\t\toptions\t\t\t\tOptions.\n     */\n\tconstructor(unit, resourceName, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\tthis._resourceName = resourceName;\n\t\tthis._unit = unit;\n\t\tthis._options = new Store({\"items\":options});\n\t\tthis._data = {};\n\t\tthis._items = [];\n\t\tthis._target = {};\n\t\tthis._currentIndex = 0;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Resource name.\n\t *\n\t * @type\t{String}\n\t */\n\tget resourceName()\n\t{\n\n\t\treturn this._resourceName;\n\n\t}\n\n\tset resourceName(value)\n\t{\n\n\t\tthis._resourceName = value;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Fetch target.\n\t *\n\t * @type\t{Object}\n\t */\n\tget target()\n\t{\n\n\t\treturn this._target;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Raw data.\n\t *\n\t * @type\t{Object}\n\t */\n\tget data()\n\t{\n\n\t\treturn this._data;\n\n\t}\n\n\tset data(value)\n\t{\n\n\t\tthis._data = value;\n\t\tthis._items = this.#__reshapeItems(value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Items.\n\t *\n\t * @type\t{Object}\n\t */\n\tget items()\n\t{\n\n\t\treturn this._items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Options.\n\t *\n\t * @type\t{Object}\n\t */\n\tget options()\n\t{\n\n\t\treturn this._options;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Init the handler.\n     *\n     * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n     */\n\tinit(options)\n\t{\n\n\t\tif (this._options.get(\"autoLoad\"))\n\t\t{\n\t\t\tlet id = this._options.get(\"autoLoadOptions.id\");\n\t\t\tlet parameters = this._options.get(\"autoLoadOptions.parameters\");\n\n\t\t\treturn this.load(id, parameters);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tload(id, parameters)\n\t{\n\n\t\treturn Promise.resolve().then(() => {\n\t\t\treturn this._load(id, parameters);\n\t\t}).then((data) => {\n//\t\t\tUtil.warn(data, `ResourceHandler.load(): No data returned. name=${this._unit.tagName}, handlerName=${this._name}, resourceName=${this._resourceName}`);\n\n\t\t\tthis.data = data;\n\n\t\t\treturn this._data;\n\t\t});\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Remove data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tremove(id, parameters)\n\t{\n\n\t\treturn this._remove(id, parameters);\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Add data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tdata\t\t\t\tData to insert.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tadd(id, data, parameters)\n\t{\n\n\t\treturn this._add(id, this.#__reshapeData(data), parameters);\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Update data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tdata\t\t\t\tData to update.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tupdate(id, data, parameters)\n\t{\n\n\t\treturn this._update(id, this.#__reshapeData(data), parameters);\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Get resource text for the code.\n\t *\n\t * @param\t{String}\t\tcode\t\t\t\tCode value.\n\t *\n\t * @return  {String}\t\tResource text.\n\t */\n\tgetText(code)\n\t{\n\n\t\tlet ret = code;\n\t\tlet title = this._options.get(\"fieldOptions.text\");\n\n\t\tif (this._items && code in this._items)\n\t\t{\n\t\t\tret = this._items[code][title];\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Get resource item for the code.\n\t *\n\t * @param\t{String}\t\tcode\t\t\t\tCode value.\n\t *\n\t * @return  {Object}\t\tResource data.\n\t */\n\tgetItem(code)\n\t{\n\n\t\tlet ret;\n\n\t\tif (this._items && code in this._items)\n\t\t{\n\t\t\tret = this._items[code];\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_load(id, parameters)\n\t{\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Remove data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_remove(id, parameters)\n\t{\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Add data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tdata\t\t\t\tData to insert.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_add(id, data, parameters)\n\t{\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t/**\n\t * Update data.\n\t *\n\t * @param\t{String}\t\tid\t\t\t\t\tTarget id.\n\t * @param\t{Object}\t\tdata\t\t\t\tData to update.\n\t * @param\t{Object}\t\tparameters\t\t\tQuery parameters.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_update(id, data, parameters)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get and reshape items from raw data on load.\n\t *\n\t * @param\t{Object}\t\tdata\t\t\t\tRaw data from which items are retrieved.\n\t *\n\t * @return  {Object}\t\tReshaped items.\n\t */\n\t#__reshapeItems(data)\n\t{\n\n\t\t// Get items\n\t\tlet itemsField = this._options.get(\"fieldOptions.items\");\n\t\tlet items = ( itemsField ? Util.safeGet(data, itemsField) : data );\n\n\t\t// Reshape\n\t\tif (this._options.get(\"reshapeOptions.load.reshape\"))\n\t\t{\n\t\t\tlet reshaper = this._options.get(\"reshapeOptions.load.reshaper\", this.#__reshaper_load.bind(this));\n\t\t\titems = reshaper(items);\n\t\t}\n\n\t\treturn items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Reshape request data on add/update.\n\t *\n\t * @param\t{Object}\t\tdata\t\t\t\tData to reshape.\n\t *\n\t * @return  {Object}\t\tReshaped data.\n\t */\n\t#__reshapeData(data)\n\t{\n\n\t\tif (this._options.get(\"reshapeOptions.update.reshape\"))\n\t\t{\n\t\t\tlet reshaper = this._options.get(\"reshapeOptions.update.reshaper\", () => { return data; });\n\t\t\tdata = reshaper(data);\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Reshape items on load.\n     *\n     * @param\t{Object}\t\ttarget\t\t\t\tTarget to reshape.\n\t *\n\t * @return  {Object}\t\tMaster object.\n     */\n\t#__reshaper_load(target)\n\t{\n\n\t\tlet items;\n\n\t\tif (target)\n\t\t{\n\t\t\tlet idField = this._options.get(\"fieldOptions.id\");\n\t\t\titems = target.reduce((result, current) => {\n\t\t\t\tlet id = current[idField];\n\t\t\t\tresult[id] = current;\n\n\t\t\t\treturn result;\n\t\t\t}, {});\n\t\t}\n\n\t\treturn items;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ResourceHandler from \"./resource-handler.js\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tCookie resource handler class\n// =============================================================================\n\nexport default class CookieResourceHandler extends ResourceHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(unit, resourceName, options)\n\t{\n\n\t\tlet defaults = {\"autoLoad\":true, \"autoFetch\":false};\n\t\tsuper(unit, resourceName, Object.assign(defaults, options));\n\n\t\tthis._cookieName = Util.safeGet(options, \"cookieOptions.name\", \"preferences\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t_load(id, parameters)\n\t{\n\n\t\treturn this.#__getCookie(this._cookieName);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_add(id, data, parameters)\n\t{\n\n\t\tthis.#__setCookie(this._cookieName, data);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_update(id, data, parameters)\n\t{\n\n\t\tthis.#__setCookie(this._cookieName, data);\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\t//  Privates\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t* Get cookie.\n\t*\n\t* @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t*/\n\t#__getCookie(key)\n\t{\n\n\t\tlet decoded = document.cookie.split(';').reduce((result, current) => {\n\t\t\tconst [key, value] = current.split('=');\n\t\t\tif (key)\n\t\t\t{\n\t\t\t\tresult[key.trim()] = ( value ? decodeURIComponent(value.trim()) : undefined );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, {});\n\n\t\treturn ( decoded[key] ? JSON.parse(decoded[key]) : {});\n\n\t}\n\n\t// -----------------------------------------------------------------------------\n\n\t/**\n\t* Set cookie.\n\t*\n\t* @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t* @param\t{Object}\t\tvalue\t\t\t\tValue.\n\t*/\n\t#__setCookie(key, value)\n\t{\n\n\t\tlet cookie = key + `=${encodeURIComponent(JSON.stringify(value))}; `;\n\t\tlet options = this._options.get(\"cookieOptions\");\n\n\t\tcookie += Object.keys(options).reduce((result, current) => {\n\t\t\tresult += `${current}=${options[current]}; `;\n\n\t\t\treturn result;\n\t\t}, \"\");\n\n\t\tdocument.cookie = cookie;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ResourceHandler from \"./resource-handler.js\";\nimport {AjaxUtil, URLUtil} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tAPI Resource Handler class\n// =============================================================================\n\nexport default class APIResourceHandler extends ResourceHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t// \tProtected\n\t// -------------------------------------------------------------------------\n\n\t_load(id, parameters)\n\t{\n\n\t\tlet method = \"GET\";\n\t\tlet headers = this._getOption(\"headers\", method);\n\t\tlet options = this._getOption(\"options\", method);\n\t\tlet urlOptions = this._getOption(\"URL\", method);\n\t\tlet dataType = urlOptions[\"dataType\"];\n\n\t\tlet url = this._buildApiUrl(this._resourceName, id, parameters, urlOptions);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:method, headers:headers, options:options}).then((xhr) => {\n\t\t\treturn this._convertResponseData(xhr.responseText, dataType);\n\t\t});\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t_remove(id, parameters)\n\t{\n\n\t\tlet method = \"DELETE\";\n\t\tlet headers = this._getOption(\"headers\", method);\n\t\tlet options = this._getOption(\"options\", method);\n\t\tlet urlOptions = this._getOption(\"URL\", method);\n\t\tlet dataType = urlOptions[\"dataType\"];\n\n\t\tlet url = this._buildApiUrl(this._resourceName, id, parameters, urlOptions);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:method, headers:headers, options:options});\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t_add(id, data, parameters)\n\t{\n\n\t\tlet method = \"POST\";\n\t\tlet headers = this._getOption(\"headers\", method);\n\t\tlet options = this._getOption(\"options\", method);\n\t\tlet urlOptions = this._getOption(\"URL\", method);\n\t\tlet dataType = urlOptions[\"dataType\"];\n\n\t\tlet url = this._buildApiUrl(this._resourceName, id, parameters, urlOptions);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:method, headers:headers, options:options, data:this._convertRequestData(data, dataType)});\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t_update(id, data, parameters)\n\t{\n\n\t\tlet method = \"PUT\";\n\t\tlet headers = this._getOption(\"headers\", method);\n\t\tlet options = this._getOption(\"options\", method);\n\t\tlet urlOptions = this._getOption(\"URL\", method);\n\t\tlet dataType = urlOptions[\"dataType\"];\n\n\t\tlet url = this._buildApiUrl(this._resourceName, id, parameters, urlOptions);\n\n\t\treturn AjaxUtil.ajaxRequest({URL:url, method:method, headers:headers, options:options, data:this._convertRequestData(data, dataType)});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Convert request data to specified format.\n\t *\n\t * @param\t{Object}\t\tdata\t\t\t\tData to convert.\n\t * @param\t{String}\t\tdataType\t\t\tTarget data type.\n\t *\n\t * @return  {String}\t\tConverted data.\n\t */\n\t_convertRequestData(items, dataType)\n\t{\n\n\t\tlet data;\n\n\t\tswitch (dataType)\n\t\t{\n\t\tcase \"json\":\n\t\tdefault:\n\t\t\tdata = JSON.stringify(items);\n\t\t\tbreak;\n\t\t/*\n\t\tdefault:\n\t\t\tdata = items.serialize();\n\t\t\tbreak;\n\t\t*/\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Convert response data to object.\n\t *\n\t * @param\t{Object}\t\titems\t\t\t\tData to convert.\n\t * @param\t{String}\t\tdataType\t\t\tSource data type.\n\t *\n\t * @return  {String}\t\tConverted data.\n\t */\n\t_convertResponseData(items, dataType)\n\t{\n\n\t\tlet data;\n\n\t\tswitch (dataType)\n\t\t{\n\t\tcase \"json\":\n\t\tdefault:\n\t\t\tdata = JSON.parse(items);\n\t\t\tbreak;\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get option for the method.\n\t *\n\t * @param\t{String}\t\ttarget\t\t\t\t\"ajaxHeaders\" or \"ajaxOptions\"..\n\t * @param\t{String}\t\tmethod\t\t\t\tMethod.\n\t *\n\t * @return  {Object}\t\tOptions.\n\t */\n\t_getOption(target, method)\n\t{\n\n\t\tlet settings = this._options.get(\"ajaxOptions\", {});\n\t\tlet options1 = (target in settings && \"COMMON\" in settings[target] ? settings[target][\"COMMON\"] : {} );\n\t\tlet options2 = (target in settings && method in settings[target] ? settings[target][method] : {} );\n\n\t\treturn Object.assign(options1, options2);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Build url for the api.\n\t *\n\t * @param\t{String}\t\tresource\t\t\tAPI resource.\n\t * @param\t{String}\t\tid\t\t\t\t\tId for the resource.\n\t * @param\t{Object}\t\toptions\t\t\t\tUrl options.\n\t *\n\t * @return  {String}\t\tUrl.\n\t */\n\t_buildApiUrl(resourceName, id, parameters, options)\n\t{\n\n\t\tlet baseUrl = options[\"baseURL\"] || \"\";\n\t\tlet scheme = options[\"scheme\"] || \"\";\n\t\tlet host = options[\"host\"] || \"\";\n\t\tlet dataType = options[\"dataType\"] || \"\";\n\t\tlet version = options[\"version\"] || \"\";\n\t\tlet format = options[\"format\"] || \"\";\n\t\tlet url = format.\n\t\t\t\t\treplace(\"@scheme@\", scheme).\n\t\t\t\t\treplace(\"@host@\", host).\n\t\t\t\t\treplace(\"@baseURL@\", baseUrl).\n\t\t\t\t\treplace(\"@resource@\", resourceName).\n\t\t\t\t\treplace(\"@id@\", id).\n\t\t\t\t\treplace(\"@dataType@\", dataType).\n\t\t\t\t\treplace(\"@query@\", URLUtil.buildQuery(parameters)).\n\t\t\t\t\treplace(\"@version@\", version);\n\n\t\treturn url\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ResourceHandler from \"./resource-handler.js\";\n\n// =============================================================================\n//\tObject Resource Handler class\n// =============================================================================\n\nexport default class ObjectResourceHandler extends ResourceHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(unit, resourceName, options)\n\t{\n\n\t\tlet defaults = {\"autoLoad\":true, \"autoFetch\":false, \"autoSubmit\":false};\n\t\tsuper(unit, resourceName, Object.assign(defaults, options));\n\n\t\tif (options[\"items\"])\n\t\t{\n\t\t\tthis.data = options[\"items\"];\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t_load(id, parameters)\n\t{\n\n\t\treturn this._data;\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\t_update(id, data, parameters)\n\t{\n\n\t\tthis.data = data;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ResourceHandler from \"./resource-handler.js\";\n\n// =============================================================================\n//\tLinked Resource Handler class\n// =============================================================================\n\nexport default class LinkedResourceHandler extends ResourceHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(unit, resourceName, options)\n\t{\n\n\t\tlet defaults = {\"autoLoad\":true, \"autoFetch\":false, \"autoSubmit\":false};\n\t\tsuper(unit, resourceName, Object.assign(defaults, options));\n\n\t\tthis._ref;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\tget data()\n\t{\n\n\t\treturn this._ref.data;\n\n\t}\n\n\tset data(value)\n\t{\n\n\t\t//return this._ref.data = value;\n\t\t//throw TypeError(\"LinkedResourceHandler is read only.\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tget items()\n\t{\n\n\t\treturn this._ref.items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tgetText(code)\n\t{\n\n\t\treturn this._ref.getText(code);\n\n\t}\n\n    // -------------------------------------------------------------------------\n\n\tgetItem(code)\n\t{\n\n\t\treturn this._ref.getItem(code);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t_load(id, parameters)\n\t{\n\n\t\tlet rootNode = this._options.get(\"selector\");\n\t\tlet resourceName = this._options.get(\"resourceName\") || this._resourceName;\n\n\t\treturn this._unit.cast(\"status.wait\", [rootNode]).then(() => {\n\t\t\tthis._ref = document.querySelector(rootNode).get(\"inventory\", \"resource.resources\")[resourceName];\n\t\t\treturn this._ref;\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_remove(id, parameters)\n\t{\n\n//\t\treturn this._ref.delete(id, parameters);\n\t\tthrow TypeError(\"LinkedResourceHandler is read only.\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_add(id, data, parameters)\n\t{\n\n\t\t//return this._ref.post(id, data, parameters);\n\t\tthrow TypeError(\"LinkedResourceHandler is read only.\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t//_put(id, data, parameters)\n\t_update(id, data, parameters)\n\t{\n\n//\t\treturn this._ref.put(id, data, parameters);\n\t\tthrow TypeError(\"LinkedResourceHandler is read only.\");\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ResourceHandler from \"./resource-handler.js\";\n\n// =============================================================================\n//\tWeb Storage handler class\n// =============================================================================\n\nexport default class WebStorageResourceHandler extends ResourceHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t_load(id, parameters)\n\t{\n\n\t\tlet data;\n\t\tlet rawData = localStorage.getItem(id);\n\t\tif (rawData)\n\t\t{\n\t\t\tdata = JSON.parse(rawData);\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_remove(id, parameters)\n\t{\n\n\t\tlocalStorage.removeItem(id);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_add(id, data, parameters)\n\t{\n\n\t\tlocalStorage.setItem(id, JSON.stringify(data));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t_update(id, data, parameters)\n\t{\n\n\t\tlocalStorage.setItem(id, JSON.stringify(data));\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport FormatterUtil from \"./formatter-util.js\";\n\n// =============================================================================\n//\tLocale Formatter util class\n// =============================================================================\n\nexport default class LocaleFormatterUtil extends FormatterUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tstatic formatPrice(type, typeOption, value, options)\n\t{\n\n\t\tlet locale = ( options && options[\"localeName\"] ? options[\"localeName\"] : navigator.language );\n\t\tlet currency = ( options && options[\"currencyName\"] ? options[\"currencyName\"] : \"USD\" );\n\n\t\treturn new Intl.NumberFormat(locale, {\n\t\t\tstyle:\t\t\"currency\",\n\t\t\tcurrency:\tcurrency\n\t\t}).format(value);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tstatic formatDate(type, typeOption, value, options)\n\t{\n\n\t\tlet ret = value;\n\n\t\tif (typeOption)\n\t\t{\n\t\t\tret = super.formatDate(type, typeOption, value, options);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet locale = ( options && options[\"localeName\"] ? options[\"localeName\"] : navigator.language );\n\t\t\tlet dt;\n\t\t\tif (value.length === 8)\n\t\t\t{\n\t\t\t\tdt = new Date(`${value.substr(0, 4)}-${value.substr(4, 2)}-${value.substr(6, 2)}`);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdt = new Date(value);\n\t\t\t}\n\n\t\t\tret = new Intl.DateTimeFormat(locale).format(dt);\n\t\t}\n\n\t\treturn ret || \"\";\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport LocaleFormatterUtil from \"../util/locale-formatter-util\";\nimport ValueUtil from \"./value-util\";\n\n// =============================================================================\n//\tLocale Value Util Class\n// =============================================================================\n\nexport default class LocaleValueUtil extends ValueUtil\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Attribute name.\n\t *\n\t * @type\t{String}\n\t */\n\tstatic get attributeName()\n\t{\n\n\t\treturn \"bm-locale\";\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Formatter.\n\t *\n\t * @type\t{Class}\n\t */\n\tstatic get formatter()\n\t{\n\n\t\treturn LocaleFormatterUtil;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport LocaleValueUtil from \"../util/locale-value-util.js\";\nimport {Util, AjaxUtil, URLUtil, Store, ChainableStore} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tLocale Handler class\n// =============================================================================\n\nexport default class LocaleHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n     * @param\t{String}\t\thandlerName\t\t\tHandler name.\n     * @param\t{Object}\t\toptions\t\t\t\tOptions.\n     */\n\tconstructor(unit, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\tthis._unit = unit;\n\t\tthis._options = new Store({\"items\":options});\n\t\tthis._messages = new ChainableStore();\n\t\tthis._valueHandler = this.options.get(\"valueHandler\", LocaleValueUtil);\n\t\tthis._localeInfo = {};\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Options.\n\t *\n\t * @type\t{Object}\n\t */\n\tget options()\n\t{\n\n\t\treturn this._options;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Messages.\n\t *\n\t * @type\t{Object}\n\t */\n\tget messages()\n\t{\n\n\t\treturn this._messages;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Init the handler.\n     *\n     * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n     */\n\tinit(options)\n\t{\n\n\t\t// Chain this handler's messages store to unit's locale.messages store\n\t\tthis._unit.get(\"inventory\", \"locale.messages\").add(this._messages);\n\n\t\t// Get messages from settings\n\t\tif (options[\"messages\"]) {\n\t\t\tlet messages = Util.getObject(options[\"messages\"], {\"format\":this.#__getMessageFormat(this._unit)});\n\t\t\tthis._messages.merge(messages);\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the handler has specified locale data.\n\t *\n\t * @param\t{String}\t\tlocaleName\t\t\tLocale name.\n\t *\n \t * @return  {Boolean}\t\tTrue if locale data is available.\n\t */\n\thas(localeName)\n\t{\n\n\t\treturn this._messages.has(localeName);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the message which belong to the locale name.\n\t *\n\t * @param\t{String}\t\tlocaleName\t\t\tLocale name.\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t *\n \t * @return  {String}\t\tMessages.\n\t */\n\tget(localeName, key)\n\t{\n\n\t\tkey = localeName + ( key ? `.${key}` : \"\" );\n\n\t\treturn this._messages.get(key);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Localize all the bm-locale fields with i18 messages.\n\t *\n\t * @param\t{HTMLElement}\trootNode\t\t\tTarget root node to localize.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tlocalize(rootNode, options)\n\t{\n\n\t\tlet messages = (this.get(options[\"localeName\"]) || this.get(options[\"fallbackLocaleName\"]));\n\n\t\tthis._valueHandler.setFields(rootNode, messages, options);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Load the messages file.\n\t *\n\t * @param\t{String}\t\tlocaleName\t\t\tLocale name.\n\t * @param\t{Object}\t\toptions\t\t\t\tLoad options.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\tloadMessages(localeName, options)\n\t{\n\n\t\tlet splitMessages = Util.safeGet(options, \"splitLocale\",\n\t\t\t\t\t\t\t\tthis._options.get(\"handlerOptions.splitLocale\",\n\t\t\t\t\t\t\t\t\tthis._unit.get(\"setting\", \"system.locale.options.splitLocale\")));\n\t\tlocaleName = ( splitMessages ? localeName : \"\" );\n\t\tlet localeInfo = this._localeInfo[localeName] || {};\n\t\tlet promise = Promise.resolve();\n\n\t\tif (localeInfo[\"status\"] === \"loaded\")\n\t\t{\n\t\t\tconsole.debug(`LocaleHandler.loadMessages(): Messages already loaded. name=${this._unit.tagName}, localeName=${localeName}`);\n\t\t\treturn promise;\n\t\t}\n\n\t\tif (this.#__hasExternalMessages(this._unit))\n\t\t{\n\t\t\tlet url = this.#__getMessageURL(this._unit, localeName);\n\t\t\tpromise = AjaxUtil.loadJSON(url, options).then((messages) => {\n\t\t\t\tlocaleInfo[\"messages\"] = Util.getObject(messages, {\"format\":this.#__getMessageFormat(this._unit)});\n\t\t\t\tlocaleInfo[\"status\"] = \"loaded\";\n\t\t\t\tthis._messages.merge(messages);\n\t\t\t\tthis._localeInfo[localeName] = localeInfo;\n\t\t\t});\n\t\t}\n\n\t\treturn promise;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if the unit has the external messages file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t *\n\t * @return  {Boolean}\t\tTrue if the unit has the external messages file.\n\t */\n\t#__hasExternalMessages(unit)\n\t{\n\n\t\tlet ret = false;\n\n\t\tif (unit.hasAttribute(\"bm-localeref\") || this._options.get(\"handlerOptions.localeRef\"))\n\t\t{\n\t\t\tret = true;\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return URL to messages file.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{String}\t\tlocaleName\t\t\tLocale name.\n\t *\n\t * @return  {String}\t\tURL.\n\t */\n\t#__getMessageURL(unit, localeName)\n\t{\n\n\t\tlet path;\n\t\tlet fileName;\n\t\tlet query;\n\n\t\tlet localeRef = (unit.hasAttribute(\"bm-localeref\") ?  unit.getAttribute(\"bm-localeref\") || true : this._options.get(\"handlerOptions.localeRef\"));\n\t\tif (localeRef && localeRef !== true)\n\t\t{\n\t\t\t// If URL is specified in ref, use it\n\t\t\tlet url = URLUtil.parseURL(localeRef);\n\t\t\tfileName = url.filename;\n\t\t\tpath = url.path;\n\t\t\tquery = url.query;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Use default path and filename\n\t\t\tpath = Util.concatPath([\n\t\t\t\t\tunit.get(\"setting\", \"system.locale.options.path\", unit.get(\"setting\", \"system.unit.options.path\", \"\")),\n\t\t\t\t\tunit.get(\"setting\", \"locale.options.path\", unit.get(\"setting\", \"unit.options.path\", \"\")),\n\t\t\t\t]);\n\t\t\tfileName = this._options.get(\"handlerOptions.fileName\", unit.get(\"setting\", \"unit.options.fileName\", unit.tagName.toLowerCase()));\n\t\t\tlet ext = this.#__getMessageFormat(unit);\n\t\t\tquery = unit.get(\"setting\", \"unit.options.query\");\n\n\t\t\t// Split Locale\n\t\t\tif (localeName)\n\t\t\t{\n\t\t\t\tfileName = ( localeName ? `${fileName}.${localeName}` : fileName);\n\t\t\t}\n\n\t\t\tfileName = `${fileName}.messages.${ext}`;\n\t\t}\n\n\t\treturn Util.concatPath([path, fileName]) + (query ? `?${query}` : \"\");\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Return default messages file format.\n\t *\n\t * @param       {Unit}                  unit                            Unit.\n\t *\n\t * @return  {String}            \"js\" or \"json\".\n\t */\n\t#__getMessageFormat(unit)\n\t{\n\n\t\treturn this._options.get(\"messageFormat\",\n\t\t\tunit.get(\"setting\", \"locale.options.messageFormat\",\n\t\t\t\tunit.get(\"setting\", \"system.locale.options.messageFormat\",\n\t\t\t\t\t\"json\")));\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport LocaleHandler from \"./locale-handler\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tLocaleServer Handler class\n// =============================================================================\n\nexport default class LocaleServerHandler extends LocaleHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tinit(options)\n\t{\n\n\t\tlet serverNode = this._unit.get(\"setting\", \"locale.options.localeServer\", this._unit.get(\"setting\", \"system.locale.options.localeServer\"));\n\t\tserverNode = ( serverNode === true ? \"bm-locale\" : serverNode );\n\n\t\tUtil.assert(serverNode, () => `Locale Server node not specified in settings. name=${this._unit.tagName}`);\n\n\t\treturn this._unit.cast(\"status.wait\", [serverNode]).then(() => {\n\t\t\tlet server = document.querySelector(serverNode);\n\t\t\tthis._messages.chain(server.get(\"inventory\", \"locale.messages\"));\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tloadMessages(localeName, options)\n\t{\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Store} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tValidation Handler class\n// =============================================================================\n\nexport default class ValidationHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Constructor.\n     *\n     * @param\t{String}\t\tvalidatorName\t\tValidator name.\n     * @param\t{Object}\t\toptions\t\t\t\tOptions.\n     */\n\tconstructor(unit, validatorName, options)\n\t{\n\n\t\toptions = options || {};\n\n\t\tthis._unit = unit;\n\t\tthis._options = new Store({\"items\":options});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Options.\n\t *\n\t * @type\t{Object}\n\t */\n\tget options()\n\t{\n\n\t\treturn this._options;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n     * Init the handler.\n     *\n     * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t *\n\t * @return  {Promise}\t\tPromise.\n     */\n\tinit(options)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check validity (Need to override).\n\t *\n\t * @param\t{Object}\t\tvalues\t\t\t\tValues to validate.\n\t * @param\t{Object}\t\trules\t\t\t\tValidation rules.\n\t * @param\t{Object}\t\toptions\t\t\t\tValidation options.\n\t */\n\tcheckValidity(values, rules, options)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Report validity (Need to override).\n\t *\n\t * @param\t{Object}\t\tvalues\t\t\t\tValues to validate.\n\t * @param\t{Object}\t\trules\t\t\t\tValidation rules.\n\t */\n\treportValidity(values, rules)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Validate.\n\t *\n\t * @param\t{Object}\t\tvalues\t\t\t\tValues to validate.\n\t * @param\t{Object}\t\trules\t\t\t\tValidation rules.\n\t * @param\t{Object}\t\toptions\t\t\t\tValidation options.\n\t *\n \t * @return  {Object}\t\tInvalid results.\n\t */\n\t_validate(values, rules, options)\n\t{\n\n\t\trules = rules || {};\n\t\toptions = options || {};\n\t\tlet invalids = {};\n\n\t\t// Allow list\n\t\tif (options[\"allowList\"])\n\t\t{\n\t\t\tObject.keys(values).forEach((key) => {\n\t\t\t\tif (options[\"allowList\"].indexOf(key) === -1)\n\t\t\t\t{\n\t\t\t\t\tlet failed = [{\"rule\":\"allowList\", \"validity\":\"notAllowed\"}];\n\t\t\t\t\tinvalids[key] = this._createValidationResult(key, values[key], rules[key], failed);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Allow only in rules\n\t\tif (options[\"allowOnlyInRules\"])\n\t\t{\n\t\t\tObject.keys(values).forEach((key) => {\n\t\t\t\tif (!(key in rules))\n\t\t\t\t{\n\t\t\t\t\tlet failed = [{\"rule\":\"allowList\", \"validity\":\"notAllowed\"}];\n\t\t\t\t\tinvalids[key] = this._createValidationResult(key, values[key], rules[key], failed);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Disallow list\n\t\tif (options[\"disallowList\"])\n\t\t{\n\t\t\tObject.keys(values).forEach((key) => {\n\t\t\t\tif (options[\"disallowList\"].indexOf(key) > -1)\n\t\t\t\t{\n\t\t\t\t\tlet failed = [{\"rule\":\"disallowList\", \"validity\":\"disallowed\"}];\n\t\t\t\t\tinvalids[key] = this._createValidationResult(key, values[key], rules[key], failed);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Required\n\t\tObject.keys(rules).forEach((key) => {\n\t\t\tif (\"constraints\" in rules[key] && rules[key][\"constraints\"] && \"required\" in rules[key][\"constraints\"] && rules[key][\"constraints\"][\"required\"])\n\t\t\t{\n\t\t\t\tif (!(key in values))\n\t\t\t\t{\n\t\t\t\t\tlet failed = [{\"rule\":\"required\", \"validity\":\"valueMissing\"}];\n\t\t\t\t\tinvalids[key] = this._createValidationResult(key, values[key], rules[key], failed);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn invalids;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Create validation result object.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey.\n\t * @param\t{*}\t\t\t\tvalue\t\t\t\tValue.\n\t * @param\t{Object}\t\trule\t\t\t\tValidation rule.\n\t * @param\t{Object}\t\tfailed\t\t\t\tFailed reports.\n\t * @param\t{Object}\t\textra\t\t\t\tExtra reports.\n\t *\n \t * @return  {Object}\t\tInvalid result.\n\t */\n\t_createValidationResult(key, value, rule, failed, extras)\n\t{\n\n\t\tlet result = {\n\t\t\t\"key\":\t\t\tkey,\n\t\t\t\"value\":\t\tvalue,\n\t\t\t\"message\":\t\tthis._getFunctionValue(key, value, \"message\", rule),\n\t\t\t\"fix\":\t\t\tthis._getFunctionValue(key, value, \"fix\", rule),\n\t\t\t\"failed\":\t\tfailed,\n\t\t\t\"extras\":\t\textras,\n\t\t};\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from the custom function or the value.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tItem name.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to validate.\n\t * @param\t{String}\t\ttarget\t\t\t\tTarget name.\n\t * @param\t{Object}\t\trule\t\t\t\tValidation rules.\n\t */\n\t_getFunctionValue(key, value, target, rule)\n\t{\n\n\t\tlet ret;\n\n\t\tif (rule && target in rule)\n\t\t{\n\t\t\tif (typeof rule[target] === \"function\")\n\t\t\t{\n\t\t\t\tret = rule[target](key, value, rule);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tret = rule[target];\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ValidationHandler from \"./validation-handler.js\";\nimport ValueUtil from \"../util/value-util.js\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tHTML5 Form validation Handler class\n// =============================================================================\n\nexport default class HTML5FormValidationHandler extends ValidationHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Constructor\n\t// -------------------------------------------------------------------------\n\n\tconstructor(unit, validatorName, options)\n\t{\n\n\t\tsuper(unit, validatorName, options);\n\n\t\tthis._valueHandler = this.options.get(\"valueHandler\", ValueUtil);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tcheckValidity(values, rules, options)\n\t{\n\n\t\tlet invalids1 = {};\n\t\tlet invalids2;\n\t\tlet form = Util.scopedSelectorAll(this._unit, \"form\")[0];\n\t\tif (rules || options)\n\t\t{\n\t\t\t// Check allow/disallow list\n\t\t\tlet values = this._valueHandler.getFields(form);\n\t\t\tinvalids1 = super._validate(values, rules, options);\n\t\t}\n\t\tinvalids2 = this._validate(form, rules);\n\t\tlet invalids = Util.deepMerge(invalids1, invalids2);\n\n\t\tthis._unit.set(\"inventory\", \"validation.validationResult.result\", (Object.keys(invalids).length > 0 ? false : true ));\n\t\tthis._unit.set(\"inventory\", \"validation.validationResult.invalids\", invalids);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\treportValidity(values, rules)\n\t{\n\n\t\tlet form = Util.scopedSelectorAll(this._unit, \"form\")[0];\n\n\t\tUtil.assert(form, () => `FormValidationHandler.reportValidity(): Form tag does not exist.`, TypeError);\n\t\tUtil.assert(form.reportValidity, () => `FormValidationHandler.reportValidity(): Report validity not supported.`, TypeError);\n\n\t\tform.reportValidity();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t_validate(form, rules)\n\t{\n\n\t\tlet invalids = {};\n\n\t\tUtil.assert(form, () => `FormValidationHandler.checkValidity(): Form tag does not exist.`, TypeError);\n\t\tUtil.assert(form.checkValidity, () => `FormValidationHandler.checkValidity(): check validity not supported.`, TypeError);\n\n\t\tlet elements = Util.scopedSelectorAll(form, \"input:not([novalidate])\")\n\t\telements.forEach((element) => {\n\t\t\tlet key = element.getAttribute(\"bm-bind\");\n\t\t\tlet value = this._valueHandler.getValue(element);\n\t\t\tlet rule = ( rules && rules[key] ? rules[key] : null );\n\n\t\t\tlet failed = this._validateValue(element, key, value, rule);\n\t\t\tif (failed.length > 0)\n\t\t\t{\n\t\t\t\tinvalids[key] = this._createValidationResult(key, value, rule, failed, {\"element\": element});\n\t\t\t\tinvalids[\"message\"] = invalids[\"message\"] || element.validationMessage;\n\t\t\t}\n\t\t});\n\n\t\treturn invalids;\n\n\t}\n\n\t/*\n\tvalidate(form, rules)\n\t{\n\n\t\tlet invalids = [];\n\n\t\tUtil.assert(form, () => `FormValidationHandler.checkValidity(): Form tag does not exist.`, TypeError);\n\t\tUtil.assert(form.checkValidity, () => `FormValidationHandler.checkValidity(): check validity not supported.`, TypeError);\n\n\t\tif (!form.checkValidity())\n\t\t{\n\t\t\tlet invalid = {\"element\":form, \"message\":form.validationMessage};\n\t\t\tinvalids.push(invalid);\n\t\t}\n\n\t\treturn invalids;\n\n\t}\n\t*/\n\n\t// -------------------------------------------------------------------------\n\n\n\t/**\n\t * Validate the single value.\n\t *\n\t * @param\t{HTMLElement}\telement\t\t\t\tHTML element to validaate.\n\t * @param\t{String}\t\tkey\t\t\t\t\tItem name.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to validate.\n\t * @param\t{Object}\t\trules\t\t\t\tValidation rules.\n\t *\n \t * @return  {Object}\t\tFailed results.\n\t */\n\t_validateValue(element, key, value, rules)\n\t{\n\n\t\tlet failed = [];\n\n\t\tlet result = element.validity;\n\t\tif (!result.valid)\n\t\t{\n\t\t\tfor (const errorName in result)\n\t\t\t{\n\t\t\t\tif (errorName !== \"valid\" && result[errorName])\n\t\t\t\t{\n\t\t\t\t\tfailed.push({\"validity\":errorName});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn failed;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ValidationHandler from \"./validation-handler.js\";\nimport {Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tObject validation Handler class\n// =============================================================================\n\nexport default class ObjectValidationHandler extends ValidationHandler\n{\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\tcheckValidity(values, rules, options)\n\t{\n\n\t\tlet invalids1 = super._validate(values, rules, options); // Check allow/disallow/required\n\t\tlet invalids2 = this._validate(values, rules);\n\t\tlet invalids = Util.deepMerge(invalids1, invalids2);\n\n\t\tthis._unit.set(\"inventory\", \"validation.validationResult.result\", ( Object.keys(invalids).length > 0 ? false : true ));\n\t\tthis._unit.set(\"inventory\", \"validation.validationResult.invalids\", invalids);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\treportValidity(values, rules)\n\t{\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Protected\n\t// -------------------------------------------------------------------------\n\n\t_validate(values, rules)\n\t{\n\n\t\tlet invalids = {};\n\n\t\tif (rules)\n\t\t{\n\t\t\tObject.keys(values).forEach((key) => {\n\t\t\t\tif (rules[key])\n\t\t\t\t{\n\t\t\t\t\tlet failed = this._validateValue(key, values[key], rules[key]);\n\t\t\t\t\tif (failed.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tinvalids[key] = this._createValidationResult(key, values[key], rules[key], failed);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn invalids;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Validate the single value.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tItem name.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to validate.\n\t * @param\t{Object}\t\trules\t\t\t\tValidation rules.\n\t *\n \t * @return  {Object}\t\tFailed results.\n\t */\n\t_validateValue(key, value, rules)\n\t{\n\n\t\tlet failed = [];\n\n\t\tif (rules && rules[\"constraints\"])\n\t\t{\n\t\t\tObject.keys(rules[\"constraints\"]).forEach((constraintName) => {\n\t\t\t\tlet result = this._checkConstraint(key, value, constraintName, rules[\"constraints\"][constraintName]);\n\t\t\t\tif (result)\n\t\t\t\t{\n\t\t\t\t\tfailed.push(result);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn failed;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check the single constraint.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tItem name.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to validate.\n\t * @param\t{String}\t\tconstraintName\t\tConstraint name.\n\t * @param\t{Object}\t\trule\t\t\t\tValidation rules.\n\t *\n \t * @return  {Object}\t\tFailed result.\n\t */\n\t_checkConstraint(key, value, constraintName, rule)\n\t{\n\n\t\tlet result;\n\t\tlet len;\n\t\tlet num;\n\n\t\tswitch (constraintName)\n\t\t{\n\t\tcase \"type\":\n\t\t\tresult = this._checkType(key, value, constraintName, rule);\n\t\t\tbreak;\n\t\tcase \"required\":\n\t\t\tif (!value)\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"required\", \"validity\":\"valueMissing\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"minlength\":\n\t\t\tlen = String(value).length;\n\t\t\tif (len < rule)\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"minlength\", \"validity\":\"tooShort(min:\" + rule + \")\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"maxlength\":\n\t\t\tlen = String(value).length;\n\t\t\tif (len > rule)\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"maxlength\", \"validity\":\"tooLong(max:\" + rule + \")\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"min\":\n\t\t\tnum = parseInt(value);\n\t\t\tif (num < rule)\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"min\", \"validity\":\"rangeUnderflow(min:\" + rule + \")\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"max\":\n\t\t\tnum = parseInt(value);\n\t\t\tif (num > rule)\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"max\", \"validity\":\"rangeOverflow(max:\" + rule + \")\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"pattern\":\n\t\t\tlet re = new RegExp(rule);\n\t\t\tif (!re.test(value))\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"pattern\", \"validity\":\"patternMismatch(pattern:\" + rule + \")\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"valids\":\n\t\t\tif (rule.indexOf(value) === -1)\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"valids\", \"validity\":\"validsMismatch\"};\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"custom\":\n\t\t\tif (!rule(key, value, rule))\n\t\t\t{\n\t\t\t\tresult = {\"rule\":\"custom\", \"validity\":\"customMismatch\"};\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check the single type constraint.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tItem name.\n\t * @param\t{Object}\t\tvalue\t\t\t\tValue to validate.\n\t * @param\t{String}\t\tconstraintName\t\tConstraint name.\n\t * @param\t{Object}\t\trule\t\t\t\tValidation rules.\n\t *\n \t * @return  {Object}\t\tFailed result.\n\t */\n\t_checkType(key, value, constraintName, rule)\n\t{\n\n\t\tlet result;\n\n\t\tif (value)\n\t\t{\n\t\t\tswitch (rule)\n\t\t\t{\n\t\t\tcase \"object\":\n\t\t\t\tif (typeof value !== \"object\")\n\t\t\t\t{\n\t\t\t\t\tresult = {\"rule\":\"type\", \"validity\":\"typeMismatch(object)\"};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"function\":\n\t\t\t\tif (typeof value !== \"function\")\n\t\t\t\t{\n\t\t\t\t\tresult = {\"rule\":\"type\", \"validity\":\"typeMismatch(function)\"};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tif (typeof value !== \"string\")\n\t\t\t\t{\n\t\t\t\t\tresult = {\"rule\":\"type\", \"validity\":\"typeMismatch(string)\"};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"number\":\n\t\t\t\tlet parsed = parseInt(value);\n\t\t\t\tif (isNaN(parsed))\n\t\t\t\t{\n\t\t\t\t\tresult = {\"rule\":\"type\", \"validity\":\"typeMismatch(number)\"};\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ObservableStore from \"../store/observable-store.js\";\nimport {Unit, Util} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tPreference Server Class\n// =============================================================================\n\nexport default class PreferenceServer extends Unit\n{\n\n\t// -------------------------------------------------------------------------\n\t//\tSettings\n\t// -------------------------------------------------------------------------\n\n\t_getSettings()\n\t{\n\n\t\treturn {\n\t\t\t\"basic\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"autoRefresh\":\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"event\": {\n\t\t\t\t\"events\": {\n\t\t\t\t\t\"this\": {\n\t\t\t\t\t\t\"handlers\": {\n\t\t\t\t\t\t\t\"beforeStart\":\t\t\t[\"PreferenceServer_onBeforeStart\"],\n\t\t\t\t\t\t\t\"beforeSubmit\":\t\t\t[\"PreferenceServer_onBeforeSubmit\"],\n\t\t\t\t\t\t\t\"doReportValidity\":\t\t[\"PreferenceServer_onDoReportValidity\"]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"form\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"autoCollect\":\t\t\t\t\tfalse,\n\t\t\t\t\t\"autoCrop\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"skin\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasSkin\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"style\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasStyle\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Setter/Getter\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Preferences.\n\t *\n\t * @type\t{Object}\n\t */\n\tget items()\n\t{\n\n\t\treturn this._store.items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tPreferenceServer_onBeforeStart = function(sender, e, ex)\n\t{\n\n\t\tthis._store = new ObservableStore({\"items\":this.get(\"setting\", \"options.defaults\"), \"filter\":this._filter, \"async\":true});\n\n\t\tObject.keys(this.get(\"inventory\", \"resource.resources\", {})).forEach((key) => {\n\t\t\tthis._store.merge(this.get(\"inventory\", `resource.resources.${key}`).items);\n\t\t});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tPreferenceServer_onBeforeSubmit = function(sender, e, ex)\n\t{\n\n\t\tthis._store.set(\"\", e.detail.items, e.detail.options, ...e.detail.args);\n\n\t\t// Pass items to the latter event handlers\n\t\te.detail.items = this._store.items;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\tPreferenceServer_onDoReportValidity = function(sender, e, ex)\n\t{\n\n\t\tlet msg = `Invalid preference value. name=${this.tagName}`;\n\t\tObject.keys(this.get(\"inventory\", \"validation.validationResult.invalids\")).forEach((key) => {\n\t\t\tmsg += \"\\n\\tkey=\" + this.get(\"inventory\", `validation.validationResult.invalids.${key}.key`) + \", value=\" + this.get(\"inventory\", `validation.validationResult.invalids.${key}.value`);\n\t\t});\n\t\tconsole.error(msg);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Methods\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Subscribe to the Server. Get a notification when prefrence changed.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tsubscribe(unit, options)\n\t{\n\n\t\tthis._store.subscribe(\n\t\t\t`${unit.tagName}_${unit.uniqueId}`,\n\t\t\tthis._triggerEvent.bind(unit),\n\t\t\toptions,\n\t\t);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get the value from store. Return default value when specified key is not available.\n\t *\n\t * @param\t{String}\t\tkey\t\t\t\t\tKey to get.\n\t * @param\t{Object}\t\tdefaultValue\t\tValue returned when key is not found.\n\t *\n\t * @return  {*}\t\t\t\tValue.\n\t */\n\tgetPreference(key, defaultValue)\n\t{\n\n\t\treturn this._store.get(key, defaultValue);\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Set the value to the store.\n\t *\n\t * @param\t{Object}\t\tvalues\t\t\t\tValues to store.\n\t * @param\t{Object}\t\toptions\t\t\t\tOptions.\n\t */\n\tsetPreference(values, options, ...args)\n\t{\n\n\t\tlet validatorName = this.get(\"setting\", \"options.validatorName\");\n\n\t\treturn this.cast(\"form.submit\", {\"items\":values, \"options\":options, \"args\":args, \"validatorName\":validatorName});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Trigger preference changed events.\n\t *\n\t * @param\t{Object}\t\titems\t\t\t\tChanged items.\n\t *\n\t * @return  {Promise}\t\tPromise.\n\t */\n\t_triggerEvent(changedItems, observerInfo, options)\n\t{\n\n\t\tlet sender = Util.safeGet(options, \"sender\", this);\n\n\t\treturn this.cast(\"preference.apply\", {\"sender\":sender, \"preferences\":changedItems});\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Check if it is the target.\n\t *\n\t * @param\t{Object}\t\tconditions\t\t\tConditions.\n\t * @param\t{Object}\t\tobserverInfo\t\tObserver info.\n\t */\n\t_filter(conditions, observerInfo, ...args)\n\t{\n\n\t\tlet result = false;\n\t\tlet target = observerInfo[\"options\"][\"targets\"];\n\t\ttarget = ( Array.isArray(target) ? target : [target] );\n\n\t\tfor (let i = 0; i < target.length; i++)\n\t\t{\n\t\t\tif (conditions[target[i]])\n\t\t\t{\n\t\t\t\tresult = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\ncustomElements.define(\"bm-preference\", PreferenceServer);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ObservableStore from \"../store/observable-store.js\";\nimport {Unit, URLUtil} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tError Server class\n// =============================================================================\n\nexport default class ErrorServer extends Unit\n{\n\n\t// -------------------------------------------------------------------------\n\t//\tSettings\n\t// -------------------------------------------------------------------------\n\n\t_getSettings()\n\t{\n\n\t\treturn {\n\t\t\t\"basic\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"autoRefresh\":\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"event\": {\n\t\t\t\t\"events\": {\n\t\t\t\t\t\"this\": {\n\t\t\t\t\t\t\"handlers\": {\n\t\t\t\t\t\t\t\"beforeStart\":\t\t\t[\"ErrorServer_onBeforeStart\"],\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"skin\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasSkin\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"style\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasStyle\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Event Handlers\n\t// -------------------------------------------------------------------------\n\n\tErrorServer_onBeforeStart(sender, e, ex)\n\t{\n\n\t\tthis._observers = new ObservableStore({\"filter\":this.#__filter});\n\n\t\t// Install error listner\n\t\tthis.#__initListeners();\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\t//  Privates\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Filter target units to notify.\n\t *\n\t * @param\t{Unit}\t\t\tunit\t\t\t\tUnit.\n\t * @param\t{Object}\t\tobserverInfo\t\tObserver info.\n\t */\n\t#__filter(conditions, observerInfo, ...args)\n\t{\n\n\t\tlet result = false;\n\t\tlet targets = observerInfo[\"options\"][\"unit\"].get(\"setting\", \"errors.targets\");\n\t\tlet e = args[0][\"error\"];\n\n\t\tfor (let i = 0; i < targets.length; i++)\n\t\t{\n\t\t\tif (e.name === targets[i] || targets[i] === \"*\")\n\t\t\t{\n\t\t\t\tresult = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Init error handling listeners.\n\t */\n\t#__initListeners()\n\t{\n\n\t\twindow.addEventListener(\"unhandledrejection\", this.#__rejectionHandler.bind(this));\n\t\twindow.addEventListener(\"error\", this.#__errorHandler.bind(this));\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Handle unhandled rejection.\n\t *\n\t * @param\t{Error}\t\t\terror\t\t\t\tError object.\n\t */\n\t#__rejectionHandler(error)\n\t{\n\n\t\tlet e = {};\n\n\t\ttry\n\t\t{\n\t\t\tif (error.reason)\n\t\t\t{\n\t\t\t\tif (error.reason instanceof XMLHttpRequest)\n\t\t\t\t{\n\t\t\t\t\te.message = error.reason.statusText;\n\t\t\t\t\te.stack = error.reason.stack;\n\t\t\t\t\te.object = error.reason;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\te.message = error.reason.message;\n\t\t\t\t\te.object = error.reason;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\te.message = error;\n\t\t\t}\n\t\t\te.type = error.type;\n\t\t\te.name = this.#__getErrorName(error);\n\t\t\te.filename = \"\";\n\t\t\te.funcname = \"\"\n\t\t\te.lineno = \"\";\n\t\t\te.colno = \"\";\n\t\t\t// e.stack = error.reason.stack;\n\t\t\t// e.object = error.reason;\n\t\t\t//\n\t\t\tthis.#__handleException(e);\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\tconsole.error(\"An error occurred in error handler\", e);\n\t\t}\n\n\t\t//return false;\n\t\treturn true;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Handle error.\n\t *\n\t * @param\t{Error}\t\t\terror\t\t\t\tError object.\n\t * @param\t{String}\t\tfile\t\t\t\tFile name.\n\t * @param\t{Number}\t\tline\t\t\t\tLine no.\n\t * @param\t{Number}\t\tcol\t\t\t\t\tCol no.\n\t */\n\t#__errorHandler(error, file, line, col)\n\t{\n\n\t\tlet e = {};\n\n\t\ttry\n\t\t{\n\t\t\te.type = \"error\";\n\t\t\te.name = this.#__getErrorName(error);\n\t\t\te.message = error.message;\n\t\t\te.file = error.filename;\n\t\t\te.line = error.lineno;\n\t\t\te.col = error.colno;\n\t\t\tif (error.error)\n\t\t\t{\n\t\t\t\te.stack = error.error.stack;\n\t\t\t\te.object = error.error;\n\t\t\t}\n\n\t\t\tthis.#__handleException(e);\n\t\t}\n\t\tcatch(e)\n\t\t{\n\t\t\tconsole.error(\"An error occurred in error handler\", e);\n\t\t}\n\n\t\t//return false;\n\t\treturn true;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Get an error name for the given error object.\n\t *\n\t * @param\t{Object}\t\terror\t\t\t\tError object.\n\t *\n\t * @return  {String}\t\tError name.\n\t */\n\t#__getErrorName(error)\n\t{\n\n\t\tlet name;\n\t\tlet e;\n\n\t\tif (error.reason instanceof XMLHttpRequest)\t\te = error.reason;\n\t\telse if (error.reason)\te = error.reason;\n\t\telse if (error.error)\te = error.error;\n\t\telse\t\t\t\t\te = error.message;\n\n\t\tif (e.name)\t\t\t\t\t\t\t\t\tname = e.name;\n\t\telse if (e instanceof TypeError)\t\t\tname = \"TypeError\";\n\t\telse if (e instanceof XMLHttpRequest)\t\tname = \"AjaxError\";\n\t\telse if (e instanceof EvalError)\t\t\tname = \"EvalError\";\n\t//\telse if (e instanceof InternalError)\t\tname = \"InternalError\";\n\t\telse if (e instanceof RangeError)\t\t\tname = \"RangeError\";\n\t\telse if (e instanceof ReferenceError)\t\tname = \"ReferenceError\";\n\t\telse if (e instanceof SyntaxError)\t\t\tname = \"SyntaxError\";\n\t\telse if (e instanceof URIError)\t\t\t\tname = \"URIError\";\n\t\telse\n\t\t{\n\t\t\tlet pos = e.indexOf(\":\");\n\t\t\tif (pos > -1)\n\t\t\t{\n\t\t\t\tname = e.substring(0, pos);\n\t\t\t}\n\t\t}\n\n\t\treturn name;\n\n\t}\n\n\t// -------------------------------------------------------------------------\n\n\t/**\n\t * Handle an exeption.\n\t *\n\t * @param\t{Object}\t\te\t\t\t\t\tError object.\n\t */\n\t#__handleException(e)\n\t{\n\n\t\t//window.stop();\n\n\t\tlet statusCode = e.object.status;\n\t\tlet handlers = this.get(\"setting\", \"handlers\");\n\t\tObject.keys(handlers[\"statusCode\"]).forEach((code) => {\n\t\t\tif (statusCode == code)\n\t\t\t{\n\t\t\t\tObject.keys(handlers[\"statusCode\"][code]).forEach((command) => {\n\t\t\t\t\tlet options = handlers[\"statusCode\"][code][command];\n\t\t\t\t\tswitch (command)\n\t\t\t\t\t{\n\t\t\t\t\tcase \"route\":\n\t\t\t\t\t\tlet routeInfo = options[\"routeInfo\"];\n\t\t\t\t\t\tObject.keys(routeInfo[\"queryParameters\"]).forEach((key) => {\n\t\t\t\t\t\t\trouteInfo[\"queryParameters\"][key] = routeInfo[\"queryParameters\"][key].replace(\"@URL@\", location.href);\n\t\t\t\t\t\t});\n\t\t\t\t\t\twindow.location.href = URLUtil.buildURL(routeInfo);\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tlet tagName = options[\"selector\"] || \"bm-router\";\n\t\t\t\t\t\tdocument.querySelector(tagName).cast(\"routing.openRoute\", routeInfo, {\"jump\":true});\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn this._observers.notifyAsync(\"error\", {\"sender\":this, \"error\": e});\n\n\t}\n\n}\n\ncustomElements.define(\"bm-error\", ErrorServer);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport ObservableStore from \"../store/observable-store.js\";\nimport {Unit} from \"@bitsmist-js_v1/core\";\n\n// =============================================================================\n//\tRouter Class\n// =============================================================================\n\nexport default class Router extends Unit\n{\n\n\t// -------------------------------------------------------------------------\n\t//\tSettings\n\t// -------------------------------------------------------------------------\n\n\t_getSettings()\n\t{\n\n\t\treturn {\n\t\t\t\"basic\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"autoRefresh\":\t\t\t\t\tfalse,\n\t\t\t\t\t\"autoFetch\":\t\t\t\t\tfalse,\n\t\t\t\t\t\"autoClear\":\t\t\t\t\tfalse,\n\t\t\t\t\t\"autoFill\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"skin\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasSkin\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"style\": {\n\t\t\t\t\"options\": {\n\t\t\t\t\t\"hasStyle\":\t\t\t\t\t\tfalse,\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"routing\": {\n\t\t\t},\n\t\t}\n\n\t}\n\n}\n\ncustomElements.define(\"bm-router\", Router);\n","// =============================================================================\n/**\n * BitsmistJS - Javascript Web Client Framework\n *\n * @copyright\t\tMasaki Yasutake\n * @link\t\t\thttps://bitsmist.com/\n * @license\t\t\thttps://github.com/bitsmist/bitsmist/blob/master/LICENSE\n */\n// =============================================================================\n\nimport {Perk, Unit} from \"@bitsmist-js_v1/core\";\n\n// Store\nimport MultiStore from \"./store/multi-store.js\";\nimport ArrayStore from \"./store/array-store.js\";\nimport ObservableStore from \"./store/observable-store.js\";\nimport BindableStore from \"./store/bindable-store.js\";\nimport BindableArrayStore from \"./store/bindable-array-store.js\";\n\n// Perk\nimport FilePerk from \"./perk/file-perk.js\";\nimport ErrorPerk from \"./perk/error-perk.js\";\nimport ElementPerk from \"./perk/element-perk.js\";\nimport ResourcePerk from \"./perk/resource-perk.js\";\nimport ValidationPerk from \"./perk/validation-perk.js\";\nimport FormPerk from \"./perk/form-perk.js\";\nimport ListPerk from \"./perk/list-perk.js\";\nimport DatabindingPerk from \"./perk/databinding-perk.js\";\nimport LocalePerk from \"./perk/locale-perk.js\";\nimport KeyPerk from \"./perk/key-perk.js\";\nimport ChainPerk from \"./perk/chain-perk.js\";\nimport DialogPerk from \"./perk/dialog-perk.js\";\nimport PreferencePerk from \"./perk/preference-perk.js\";\nimport RoutePerk from \"./perk/route-perk.js\";\n\n// Resource handler\nimport CookieResourceHandler from \"./resource-handler/cookie-resource-handler.js\";\nimport APIResourceHandler from \"./resource-handler/api-resource-handler.js\";\nimport ObjectResourceHandler from \"./resource-handler/object-resource-handler.js\";\nimport LinkedResourceHandler from \"./resource-handler/linked-resource-handler.js\";\nimport WebStorageResourceHandler from \"./resource-handler/webstorage-resource-handler.js\";\n\n// Locale Handler\nimport LocaleHandler from \"./locale-handler/locale-handler.js\";\nimport LocaleServerHandler from \"./locale-handler/localeserver-handler.js\";\n\n// Validation handler\nimport ValidationHandler from \"./validation-handler/validation-handler.js\";\nimport HTML5FormValidationHandler from \"./validation-handler/html5form-validation-handler.js\";\nimport ObjectValidationHandler from \"./validation-handler/object-validation-handler.js\";\n\n// Util\nimport FormatterUtil from \"./util/formatter-util.js\";\nimport LocaleFormatterUtil from \"./util/locale-formatter-util.js\";\nimport ValueUtil from \"./util/value-util.js\";\nimport LocaleValueUtil from \"./util/locale-value-util.js\";\n\n// Unit\nimport PreferenceServer from \"./unit/bm-preference.js\";\nimport LocaleServer from \"./unit/bm-locale.js\";\nimport ErrorServer from \"./unit/bm-error.js\";\nimport Router from \"./unit/bm-router.js\";\n\n// Export to global BITSMIST.V1\nif (!globalThis.BITSMIST.V1.EXTRAS)\n{\n\tglobalThis.BITSMIST.V1.$EXTRAS = {};\n\tglobalThis.BITSMIST.V1.$EXTRAS.Router = Router;\n\tglobalThis.BITSMIST.V1.$EXTRAS.BindableArrayStore = BindableArrayStore;\n\tglobalThis.BITSMIST.V1.$EXTRAS.BindableStore = BindableStore;\n\tglobalThis.BITSMIST.V1.$EXTRAS.ObservableStore = ObservableStore;\n\tglobalThis.BITSMIST.V1.$EXTRAS.MultiStore = MultiStore;\n\tglobalThis.BITSMIST.V1.$EXTRAS.ArrayStore = ArrayStore;\n\tglobalThis.BITSMIST.V1.$EXTRAS.ValueUtil = ValueUtil;\n\tglobalThis.BITSMIST.V1.$EXTRAS.FormatterUtil = FormatterUtil;\n\tglobalThis.BITSMIST.V1.$EXTRAS.LocaleFormatterUtil = LocaleFormatterUtil;\n\tglobalThis.BITSMIST.V1.$EXTRAS.LocaleValueUtil = LocaleValueUtil;\n\tglobalThis.BITSMIST.V1.$EXTRAS.PreferenceServer = PreferenceServer;\n\tglobalThis.BITSMIST.V1.$EXTRAS.LocaleServer = LocaleServer;\n\tglobalThis.BITSMIST.V1.$EXTRAS.ErrorServer = ErrorServer;\n}\n\n// Register Perks\nPerk.registerPerk(FilePerk);\nPerk.registerPerk(ErrorPerk);\nPerk.registerPerk(ElementPerk);\nPerk.registerPerk(ResourcePerk);\nPerk.registerPerk(ValidationPerk);\nPerk.registerPerk(FormPerk);\nPerk.registerPerk(ListPerk);\nPerk.registerPerk(DatabindingPerk);\nPerk.registerPerk(LocalePerk);\nPerk.registerPerk(KeyPerk);\nPerk.registerPerk(ChainPerk);\nPerk.registerPerk(DialogPerk);\nPerk.registerPerk(PreferencePerk);\nPerk.registerPerk(RoutePerk);\n\n// Register Handlers\nResourcePerk.registerHandler(CookieResourceHandler);\nResourcePerk.registerHandler(APIResourceHandler);\nResourcePerk.registerHandler(ObjectResourceHandler);\nResourcePerk.registerHandler(LinkedResourceHandler);\nResourcePerk.registerHandler(WebStorageResourceHandler);\nLocalePerk.registerHandler(LocaleHandler);\nLocalePerk.registerHandler(LocaleServerHandler);\nValidationPerk.registerHandler(ValidationHandler);\nValidationPerk.registerHandler(HTML5FormValidationHandler);\nValidationPerk.registerHandler(ObjectValidationHandler);\n\n// Export\nexport {\n\tRouter,\n\tBindableArrayStore,\n\tBindableStore,\n\tObservableStore,\n\tMultiStore,\n\tArrayStore,\n\tValueUtil,\n\tFormatterUtil,\n\tLocaleFormatterUtil,\n\tLocaleValueUtil,\n\tPreferenceServer,\n\tLocaleServer,\n\tErrorServer,\n}\n"],"names":["Store","Util","Perk","Unit","AjaxUtil","URLUtil","ChainableStore","DialogPerk"],"mappings":"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","x_google_ignoreList":[22]}